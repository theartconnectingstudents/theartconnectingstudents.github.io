{"version":3,"sources":["webpack:///./node_modules/party-js/lib/containers.js","webpack:///./node_modules/party-js/lib/particles/options/emissionOptions.js","webpack:///./node_modules/party-js/lib/components/spline.js","webpack:///./node_modules/party-js/lib/settings.js","webpack:///./node_modules/party-js/lib/scene.js","webpack:///./node_modules/party-js/lib/util/rules.js","webpack:///./node_modules/party-js/lib/particles/options/renderOptions.js","webpack:///./node_modules/party-js/lib/components/index.js","webpack:///./src/views/Join.vue?a808","webpack:///./node_modules/party-js/lib/util/config.js","webpack:///./node_modules/party-js/lib/particles/emitter.js","webpack:///./node_modules/party-js/lib/templates/confetti.js","webpack:///./node_modules/party-js/lib/systems/variation.js","webpack:///./node_modules/party-js/lib/systems/modules.js","webpack:///./node_modules/is-email/lib/index.js","webpack:///./node_modules/party-js/lib/util/index.js","webpack:///./node_modules/party-js/lib/components/numericSpline.js","webpack:///./node_modules/party-js/lib/components/vector.js","webpack:///./node_modules/party-js/lib/templates/index.js","webpack:///./node_modules/party-js/lib/util/lazy.js","webpack:///./node_modules/party-js/lib/components/rect.js","webpack:///./node_modules/party-js/lib/particles/renderer.js","webpack:///./node_modules/party-js/lib/particles/options/index.js","webpack:///./node_modules/party-js/lib/index.js","webpack:///./src/views/Join.vue?6ddd","webpack:///./node_modules/emailjs-com/es/store/store.js","webpack:///./node_modules/emailjs-com/es/methods/init/init.js","webpack:///./node_modules/emailjs-com/es/utils/validateParams.js","webpack:///./node_modules/emailjs-com/es/models/EmailJSResponseStatus.js","webpack:///./node_modules/emailjs-com/es/api/sendPost.js","webpack:///./node_modules/emailjs-com/es/methods/send/send.js","webpack:///./node_modules/emailjs-com/es/methods/sendForm/sendForm.js","webpack:///./node_modules/emailjs-com/es/index.js","webpack:///src/views/Join.vue","webpack:///./src/views/Join.vue?ba50","webpack:///./src/views/Join.vue","webpack:///./node_modules/party-js/lib/util/rotation.js","webpack:///./node_modules/party-js/lib/components/gradient.js","webpack:///./node_modules/party-js/lib/systems/random.js","webpack:///./node_modules/party-js/lib/components/color.js","webpack:///./node_modules/party-js/lib/components/circle.js","webpack:///./node_modules/party-js/lib/debug.js","webpack:///./node_modules/party-js/lib/particles/particle.js","webpack:///./node_modules/party-js/lib/systems/math.js","webpack:///./node_modules/party-js/lib/particles/options/emitterOptions.js","webpack:///./node_modules/party-js/lib/systems/shapes.js","webpack:///./node_modules/party-js/lib/systems/sources.js","webpack:///./node_modules/party-js/lib/templates/sparkles.js"],"names":["Object","defineProperty","exports","value","particleContainer","debugContainer","rootContainer","settings_1","util_1","containerPrefix","isContainerActive","container","isConnected","makeContainer","name","styles","parent","document","createElement","id","assign","style","appendChild","Lazy","position","left","top","height","width","pointerEvents","userSelect","zIndex","settings","toString","body","margin","padding","border","background","color","fontFamily","current","overflow","perspective","getDefaultEmissionOptions","components_1","sources_1","rate","angle","bursts","sourceSampler","rectSource","Rect","zero","initialLifetime","initialSpeed","initialSize","initialRotation","Vector","initialColor","Color","white","Spline","math_1","keys","_i","arguments","length","Error","Array","isArray","this","prototype","evaluate","time","ascendingKeys","sort","a","b","upperKeyIndex","findIndex","g","lowerKey","upperKey","containedTime","invlerp","interpolate","debug","gravity","respectReducedMotion","Scene","debug_1","emitter_1","renderer_1","emitters","Debug","renderer","Renderer","scheduledTickId","undefined","lastTickTimestamp","performance","now","tick","bind","scheduleTick","createEmitter","options","emitter","Emitter","push","clearEmitters","splice","clearParticles","reduce","sum","window","requestAnimationFrame","cancelTick","cancelAnimationFrame","timestamp","delta","i","isExpired","canRemove","error","console","begin","_a","_b","_c","particles","particle","renderParticle","end","despawningRules","lifetime","bounds","documentElement","scrollHeight","location","y","getDefaultRendererOptions","shapeFactory","applyColor","defaultApplyColor","applyOpacity","defaultApplyOpacity","applyLighting","defaultApplyLighting","applyTransform","defaultApplyTransform","element","hex","toHex","nodeName","toLowerCase","fill","opacity","lighting","filter","Math","abs","transform","x","scrollX","toFixed","scrollY","z","rotation","size","__createBinding","create","o","m","k","k2","enumerable","get","__exportStar","p","hasOwnProperty","call","overrideDefaults","defaults","overrides","vector_1","variation_1","config_1","options_1","particle_1","currentLoop","durationTimer","emissionTimer","attemptedBurstIndices","getDefaultEmitterOptions","emitterOptions","emission","emissionOptions","rendererOptions","loops","configurable","duration","burstIndex","burst","includes","count","evaluateVariation","emitParticle","delay","_loop_1","this_1","tickParticle","some","rule","useGravity","velocity","add","up","scale","modules","moduleFunction","Particle","from2dAngle","maxParticles","shift","confetti","__1","modules_1","random","sources","variation","util","source","populated","range","spread","speed","skew","randomUnitVector","fromHsl","randomRange","ModuleBuilder","drive","by","t","min","relative","build","shapes","scene","dynamicSource","gradientSample","splineSample","skewRelative","random_1","pick","max","amount","percentage","spline","gradient","factor","isRelative","key","driverKey","through","driver","driverValue","_this","updateDrivenProperty","evaluateModuleDriver","calculateModuleFactor","initial","toUpperCase","substr","matcher","isEmail","string","test","module","__extends","extendStatics","d","setPrototypeOf","__proto__","TypeError","String","__","constructor","NumericSpline","spline_1","_super","apply","slerp","__spreadArray","to","from","il","j","values","Float32Array","xyz","set","magnitude","sqrt","sqrMagnitude","vector","subtract","scalar","normalized","rad2deg","acos","cross","dot","cos","deg2rad","join","sin","one","right","forward","factory","exists","defaultExists","fromScreen","innerWidth","innerHeight","fromElement","r","getBoundingClientRect","containers_1","shapes_1","elements","Map","light","enabled","matchMedia","matches","renderedParticles","it","result","next","done","remove","delete","has","createParticleElement","normal","rotationToNormal","lightingCoefficient","resolved","resolveShapeFactory","cloneNode","default","forceInit","math","scene_1","render","_vm","_h","$createElement","_self","_m","staticRenderFns","staticClass","staticStyle","_v","attrs","store","_origin","init","userID","origin","_userID","validateParams","serviceID","templateID","EmailJSResponseStatus","httpResponse","status","text","responseText","sendPost","url","data","headers","Promise","resolve","reject","xhr","XMLHttpRequest","addEventListener","target","responseStatus","open","forEach","setRequestHeader","send","templatePrams","uID","params","lib_version","user_id","service_id","template_id","template_params","JSON","stringify","findHTMLForm","form","currentForm","querySelector","sendForm","formData","FormData","append","component","alpha","beta","Gradient","mix","solid","simple","colors","step","map","index","randomInsideCircle","randomInsideRect","lerp","arr","floor","theta","PI","rect","circle","radius","rgb","weight","v","padStart","fromHex","startsWith","parseInt","h","s","l","hue2rgb","q","to255","black","Circle","refreshRate","refreshTimer","displayStyle","display","innerHTML","getDebugInformation","acc","cur","infos","round","emitterInfos","populatedOptions","Symbol","clamp","approximately","epsilon","rules_1","resolvableShapes","shape","dummy","firstElementChild","square","rectangle","roundedSquare","roundedRectangle","star","circleSource","mouseSource","elementSource","HTMLElement","MouseEvent","clientX","clientY","sparkles"],"mappings":"kHACAA,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQE,kBAAoBF,EAAQG,eAAiBH,EAAQI,mBAAgB,EAC7E,IAAIC,EAAa,EAAQ,QACrBC,EAAS,EAAQ,QAIjBC,EAAkB,YAItB,SAASC,EAAkBC,GACvB,OAAOA,GAAaA,EAAUC,YAMlC,SAASC,EAAcC,EAAMC,EAAQC,GACjC,IAAIL,EAAYM,SAASC,cAAc,OAGvC,OAFAP,EAAUQ,GAAKV,EAAkBK,EACjCd,OAAOoB,OAAOT,EAAUU,MAAON,GACxBC,EAAOM,YAAYX,GAK9BT,EAAQI,cAAgB,IAAIE,EAAOe,MAAK,WACpC,OAAOV,EAAc,YAAa,CAC9BW,SAAU,QACVC,KAAM,IACNC,IAAK,IACLC,OAAQ,QACRC,MAAO,QACPC,cAAe,OACfC,WAAY,OACZC,OAAQxB,EAAWyB,SAASD,OAAOE,YACpChB,SAASiB,QACbxB,GAIHR,EAAQG,eAAiB,IAAIG,EAAOe,MAAK,WACrC,OAAOV,EAAc,QAAS,CAC1BW,SAAU,WACVE,IAAK,IACLD,KAAM,IACNU,OAAQ,QACRC,QAAS,YACTC,OAAQ,8BACRC,WAAY,oBACZC,MAAO,OACPC,WAAY,aACbtC,EAAQI,cAAcmC,WAC1B/B,GAKHR,EAAQE,kBAAoB,IAAII,EAAOe,MAAK,WACxC,OAAOV,EAAc,YAAa,CAC9Be,MAAO,OACPD,OAAQ,OACRe,SAAU,SACVC,YAAa,UACdzC,EAAQI,cAAcmC,WAC1B/B,I,oCClEHV,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ0C,+BAA4B,EACpC,IAAIC,EAAe,EAAQ,QACvBC,EAAY,EAAQ,QAIxB,SAASF,IACL,MAAO,CACHG,KAAM,GACNC,MAAO,EACPC,OAAQ,GACRC,cAAeJ,EAAUK,WAAWN,EAAaO,KAAKC,MACtDC,gBAAiB,EACjBC,aAAc,EACdC,YAAa,EACbC,gBAAiBZ,EAAaa,OAAOL,KACrCM,aAAcd,EAAae,MAAMC,OAGzC3D,EAAQ0C,0BAA4BA,G,kCCpBpC5C,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ4D,YAAS,EACjB,IAAIC,EAAS,EAAQ,QAMjBD,EAAwB,WAKxB,SAASA,IAEL,IADA,IAAIE,EAAO,GACFC,EAAK,EAAGA,EAAKC,UAAUC,OAAQF,IACpCD,EAAKC,GAAMC,UAAUD,GAEzB,GAAoB,IAAhBD,EAAKG,OACL,MAAM,IAAIC,MAAM,qCAEpB,GAAIC,MAAMC,QAAQN,EAAK,IACnB,MAAM,IAAII,MAAM,4IAGpBG,KAAKP,KAAOA,EAiChB,OA5BAF,EAAOU,UAAUC,SAAW,SAAUC,GAClC,GAAyB,IAArBH,KAAKP,KAAKG,OACV,MAAM,IAAIC,MAAM,8CAEpB,GAAyB,IAArBG,KAAKP,KAAKG,OAEV,OAAOI,KAAKP,KAAK,GAAG7D,MAGxB,IAAIwE,EAAgBJ,KAAKP,KAAKY,MAAK,SAAUC,EAAGC,GAAK,OAAOD,EAAEH,KAAOI,EAAEJ,QACnEK,EAAgBJ,EAAcK,WAAU,SAAUC,GAAK,OAAOA,EAAEP,KAAOA,KAI3E,GAAsB,IAAlBK,EACA,OAAOJ,EAAc,GAAGxE,MAE5B,IAAuB,IAAnB4E,EACA,OAAOJ,EAAcA,EAAcR,OAAS,GAAGhE,MAKnD,IAAI+E,EAAWP,EAAcI,EAAgB,GACzCI,EAAWR,EAAcI,GACzBK,EAAgBrB,EAAOsB,QAAQH,EAASR,KAAMS,EAAST,KAAMA,GACjE,OAAOH,KAAKe,YAAYJ,EAAS/E,MAAOgF,EAAShF,MAAOiF,IAErDtB,EAlDgB,GAoD3B5D,EAAQ4D,OAASA,G,oCC5DjB9D,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ8B,cAAW,EACnB9B,EAAQ8B,SAAW,CACfuD,OAAO,EACPC,QAAS,IACTzD,OAAQ,MACR0D,sBAAsB,I,oCCN1BzF,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQwF,WAAQ,EAChB,IAAIC,EAAU,EAAQ,QAClBC,EAAY,EAAQ,QACpBC,EAAa,EAAQ,QAUrBH,EAAuB,WAIvB,SAASA,IAILnB,KAAKuB,SAAW,GAIhBvB,KAAKgB,MAAQ,IAAII,EAAQI,MAAMxB,MAI/BA,KAAKyB,SAAW,IAAIH,EAAWI,SAI/B1B,KAAK2B,qBAAkBC,EAOvB5B,KAAK6B,kBAAoBC,YAAYC,MAErC/B,KAAKgC,KAAOhC,KAAKgC,KAAKC,KAAKjC,MAC3BA,KAAKkC,eAsFT,OAjFAf,EAAMlB,UAAUkC,cAAgB,SAAUC,GACtC,IAAIC,EAAU,IAAIhB,EAAUiB,QAAQF,GAEpC,OADApC,KAAKuB,SAASgB,KAAKF,GACZA,GAOXlB,EAAMlB,UAAUuC,cAAgB,WAC5B,OAAOxC,KAAKuB,SAASkB,OAAO,GAAG7C,QAQnCuB,EAAMlB,UAAUyC,eAAiB,WAC7B,OAAO1C,KAAKuB,SAASoB,QAAO,SAAUC,EAAKP,GAAW,OAAOO,EAAMP,EAAQK,mBAAqB,IAKpGvB,EAAMlB,UAAUiC,aAAe,WAC3BlC,KAAK2B,gBAAkBkB,OAAOC,sBAAsB9C,KAAKgC,OAK7Db,EAAMlB,UAAU8C,WAAa,WACzBF,OAAOG,qBAAqBhD,KAAK2B,kBAYrCR,EAAMlB,UAAU+B,KAAO,SAAUiB,GAE7B,IAAIC,GAASD,EAAYjD,KAAK6B,mBAAqB,IACnD,IAEI,IAAK,IAAIsB,EAAI,EAAGA,EAAInD,KAAKuB,SAAS3B,OAAQuD,IAAK,CAC3C,IAAId,EAAUrC,KAAKuB,SAAS4B,GAC5Bd,EAAQL,KAAKkB,GACTb,EAAQe,WAAaf,EAAQgB,WAC7BrD,KAAKuB,SAASkB,OAAOU,IAAK,IAItC,MAAOG,GACHC,QAAQD,MAAM,6DAA+DA,EAAQ,KAEzF,IAEItD,KAAKyB,SAAS+B,QACd,IAAK,IAAI9D,EAAK,EAAG+D,EAAKzD,KAAKuB,SAAU7B,EAAK+D,EAAG7D,OAAQF,IACjD,CAAI2C,EAAUoB,EAAG/D,GACjB,IADA,IACSgE,EAAK,EAAGC,EAAKtB,EAAQuB,UAAWF,EAAKC,EAAG/D,OAAQ8D,IAAM,CAC3D,IAAIG,EAAWF,EAAGD,GAClB1D,KAAKyB,SAASqC,eAAeD,EAAUxB,IAG/CrC,KAAKyB,SAASsC,MAElB,MAAOT,GACHC,QAAQD,MAAM,+DAAiEA,EAAQ,KAG3FtD,KAAKgB,MAAMgB,KAAKkB,GAEhBlD,KAAK6B,kBAAoBoB,EACzBjD,KAAKkC,gBAEFf,EApHe,GAsH1BxF,EAAQwF,MAAQA,G,oCCpIhB1F,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQqI,qBAAkB,EAI1BrI,EAAQqI,gBAAkB,CAItBC,SAAU,SAAUJ,GAChB,OAAOA,EAASI,UAAY,GAKhCC,OAAQ,SAAUL,GAEd,IAAIzG,EAASV,SAASyH,gBAAgBC,aACtC,OAAOP,EAASQ,SAASC,EAAIlH,K,oCCbrC,SAASmH,IACL,MAAO,CACHC,aAAc,SACdC,WAAYC,EACZC,aAAcC,EACdC,cAAeC,EACfC,eAAgBC,GAaxB,SAASN,EAAkB1G,EAAOiH,GAC9B,IAAIC,EAAMlH,EAAMmH,QAEhB,OAAQF,EAAQG,SAASC,eACrB,IAAK,MACDJ,EAAQnI,MAAMiB,WAAamH,EAC3B,MACJ,IAAK,MACDD,EAAQnI,MAAMwI,KAAOL,EAAQnI,MAAMkB,MAAQkH,EAC3C,MACJ,QACID,EAAQnI,MAAMkB,MAAQkH,EACtB,OAMZ,SAASN,EAAoBW,EAASN,GAClCA,EAAQnI,MAAMyI,QAAUA,EAAQ7H,WAUpC,SAASoH,EAAqBU,EAAUP,GACpCA,EAAQnI,MAAM2I,OAAS,eAAiB,GAAMC,KAAKC,IAAIH,IAAa,IAOxE,SAASR,EAAsBnB,EAAUoB,GACrCA,EAAQnI,MAAM8I,UAEV,eAAiB/B,EAASQ,SAASwB,EAAIhD,OAAOiD,SAASC,QAAQ,GAA/D,mBACsBlC,EAASQ,SAASC,EAAIzB,OAAOmD,SAASD,QAAQ,GADpE,kBAEqBlC,EAASQ,SAAS4B,EAAEF,QAAQ,GAFjD,eAGkBlC,EAASqC,SAASL,EAAEE,QAAQ,GAH9C,gBAIkBlC,EAASqC,SAAS5B,EAAEyB,QAAQ,GAJ9C,gBAKkBlC,EAASqC,SAASD,EAAEF,QAAQ,GAL9C,cAMgBlC,EAASsC,KAAKJ,QAAQ,GAAK,IAtEnDtK,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ4I,+BAA4B,EAapC5I,EAAQ4I,0BAA4BA,G,oCCdpC,IAAI6B,EAAmBpG,MAAQA,KAAKoG,kBAAqB3K,OAAO4K,OAAS,SAAUC,EAAGC,EAAGC,EAAGC,QAC7E7E,IAAP6E,IAAkBA,EAAKD,GAC3B/K,OAAOC,eAAe4K,EAAGG,EAAI,CAAEC,YAAY,EAAMC,IAAK,WAAa,OAAOJ,EAAEC,OAC3E,SAAUF,EAAGC,EAAGC,EAAGC,QACT7E,IAAP6E,IAAkBA,EAAKD,GAC3BF,EAAEG,GAAMF,EAAEC,KAEVI,EAAgB5G,MAAQA,KAAK4G,cAAiB,SAASL,EAAG5K,GAC1D,IAAK,IAAIkL,KAAKN,EAAa,YAANM,GAAoBpL,OAAOwE,UAAU6G,eAAeC,KAAKpL,EAASkL,IAAIT,EAAgBzK,EAAS4K,EAAGM,IAE3HpL,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDgL,EAAa,EAAQ,QAAajL,GAClCiL,EAAa,EAAQ,QAAYjL,GACjCiL,EAAa,EAAQ,QAAejL,GACpCiL,EAAa,EAAQ,QAAoBjL,GACzCiL,EAAa,EAAQ,QAAWjL,GAChCiL,EAAa,EAAQ,QAAajL,I,yDCjBlC,W,oCCOA,SAASqL,EAAiBC,EAAUC,GAChC,OAAOzL,OAAOoB,OAAO,GAAIoK,EAAUC,GAPvCzL,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQqL,sBAAmB,EAQ3BrL,EAAQqL,iBAAmBA,G,oCCT3BvL,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ2G,aAAU,EAClB,IAAI6E,EAAW,EAAQ,QACnBnL,EAAa,EAAQ,QACrBoL,EAAc,EAAQ,QACtBC,EAAW,EAAQ,QACnBC,EAAY,EAAQ,QACpBC,EAAa,EAAQ,QAWrBjF,EAAyB,WAIzB,SAASA,EAAQF,GAIbpC,KAAK4D,UAAY,GACjB5D,KAAKwH,YAAc,EACnBxH,KAAKyH,cAAgB,EACrBzH,KAAK0H,cAAgB,EACrB1H,KAAK2H,sBAAwB,GAC7B3H,KAAKoC,QAAUiF,EAASL,iBAAiBM,EAAUM,2BAAwC,OAAZxF,QAAgC,IAAZA,OAAqB,EAASA,EAAQyF,gBACzI7H,KAAK8H,SAAWT,EAASL,iBAAiBM,EAAUjJ,4BAAyC,OAAZ+D,QAAgC,IAAZA,OAAqB,EAASA,EAAQ2F,iBAC3I/H,KAAKyB,SAAW4F,EAASL,iBAAiBM,EAAU/C,4BAAyC,OAAZnC,QAAgC,IAAZA,OAAqB,EAASA,EAAQ4F,iBA8I/I,OA5IAvM,OAAOC,eAAe4G,EAAQrC,UAAW,YAAa,CAKlD0G,IAAK,WACD,OAAQ3G,KAAKoC,QAAQ6F,OAAS,GAAKjI,KAAKwH,aAAexH,KAAKoC,QAAQ6F,OAExEvB,YAAY,EACZwB,cAAc,IAElBzM,OAAOC,eAAe4G,EAAQrC,UAAW,YAAa,CAKlD0G,IAAK,WACD,OAAiC,IAA1B3G,KAAK4D,UAAUhE,QAE1B8G,YAAY,EACZwB,cAAc,IAOlB5F,EAAQrC,UAAUyC,eAAiB,WAC/B,OAAO1C,KAAK4D,UAAUnB,OAAO,GAAG7C,QAapC0C,EAAQrC,UAAU+B,KAAO,SAAUkB,GAC/B,IAAKlD,KAAKoD,YACNpD,KAAKyH,eAAiBvE,EAClBlD,KAAKyH,eAAiBzH,KAAKoC,QAAQ+F,WACnCnI,KAAKwH,cAELxH,KAAKyH,cAAgB,EACrBzH,KAAK2H,sBAAwB,KAG5B3H,KAAKoD,WAAW,CAGjB,IADA,IAAIgF,EAAa,EACR1I,EAAK,EAAG+D,EAAKzD,KAAK8H,SAASpJ,OAAQgB,EAAK+D,EAAG7D,OAAQF,IAAM,CAC9D,IAAI2I,EAAQ5E,EAAG/D,GACf,GAAI2I,EAAMlI,MAAQH,KAAKyH,gBAEdzH,KAAK2H,sBAAsBW,SAASF,GAAa,CAGlD,IADA,IAAIG,EAAQnB,EAAYoB,kBAAkBH,EAAME,OACvCpF,EAAI,EAAGA,EAAIoF,EAAOpF,IACvBnD,KAAKyI,eAGTzI,KAAK2H,sBAAsBpF,KAAK6F,GAGxCA,IAKJpI,KAAK0H,eAAiBxE,EACtB,IAAIwF,EAAQ,EAAI1I,KAAK8H,SAAStJ,KAC9B,MAAOwB,KAAK0H,cAAgBgB,EACxB1I,KAAK0H,eAAiBgB,EACtB1I,KAAKyI,eAIjB,IAAIE,EAAU,SAAUxF,GACpB,IAAIU,EAAW+E,EAAOhF,UAAUT,GAChCyF,EAAOC,aAAahF,EAAUX,GAG1B0F,EAAOxG,QAAQ4B,gBAAgB8E,MAAK,SAAUC,GAAQ,OAAOA,EAAKlF,OAClE+E,EAAOhF,UAAUnB,OAAOU,EAAG,IAG/ByF,EAAS5I,KACb,IAASmD,EAAInD,KAAK4D,UAAUhE,OAAS,EAAGuD,GAAK,EAAGA,IAC5CwF,EAAQxF,IAchBb,EAAQrC,UAAU4I,aAAe,SAAUhF,EAAUX,GACjDW,EAASI,UAAYf,EACjBlD,KAAKoC,QAAQ4G,aAEbnF,EAASoF,SAAWpF,EAASoF,SAASC,IAAI/B,EAAShI,OAAOgK,GAAGC,MAAMpN,EAAWyB,SAASwD,QAAUiC,KAGrGW,EAASQ,SAAWR,EAASQ,SAAS6E,IAAIrF,EAASoF,SAASG,MAAMlG,IAElE,IAAK,IAAIxD,EAAK,EAAG+D,EAAKzD,KAAKoC,QAAQiH,QAAS3J,EAAK+D,EAAG7D,OAAQF,IAAM,CAC9D,IAAI4J,EAAiB7F,EAAG/D,GACxB4J,EAAezF,KAOvBvB,EAAQrC,UAAUwI,aAAe,WAC7B,IAAI5E,EAAW,IAAI0D,EAAWgC,SAAS,CACnClF,SAAUrE,KAAK8H,SAASnJ,gBACxBsF,SAAUmD,EAAYoB,kBAAkBxI,KAAK8H,SAAS/I,iBACtDkK,SAAU9B,EAAShI,OAAOqK,YAAYpC,EAAYoB,kBAAkBxI,KAAK8H,SAASrJ,QAAQ2K,MAAMhC,EAAYoB,kBAAkBxI,KAAK8H,SAAS9I,eAC5ImH,KAAMiB,EAAYoB,kBAAkBxI,KAAK8H,SAAS7I,aAClDiH,SAAUkB,EAAYoB,kBAAkBxI,KAAK8H,SAAS5I,iBACtDlB,MAAOoJ,EAAYoB,kBAAkBxI,KAAK8H,SAAS1I,gBAOvD,OALAY,KAAK4D,UAAUrB,KAAKsB,GAEhB7D,KAAK4D,UAAUhE,OAASI,KAAKoC,QAAQqH,cACrCzJ,KAAK4D,UAAU8F,QAEZ7F,GAEJvB,EA7JiB,GA+J5B3G,EAAQ2G,QAAUA,G,oCCjLlB7G,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQgO,cAAW,EACnB,IAAIC,EAAM,EAAQ,QACdtL,EAAe,EAAQ,QACvBuL,EAAY,EAAQ,QACpBC,EAAS,EAAQ,QACjBC,EAAU,EAAQ,QAClBC,EAAY,EAAQ,QACpBC,EAAO,EAAQ,QAOnB,SAASN,EAASO,EAAQ9H,GACtB,IAAI+H,EAAYF,EAAKjD,iBAAiB,CAClCuB,MAAOyB,EAAUI,MAAM,GAAI,IAC3BC,OAAQL,EAAUI,MAAM,GAAI,IAC5BE,MAAON,EAAUI,MAAM,IAAK,KAC5BjE,KAAM6D,EAAUO,KAAK,EAAG,IACxBrE,SAAU,WAAc,OAAO4D,EAAOU,mBAAmBpB,MAAM,MAC/DpL,MAAO,WAAc,OAAOM,EAAae,MAAMoL,QAAQX,EAAOY,YAAY,EAAG,KAAM,IAAK,KACxFrB,QAAS,EACL,IAAIQ,EAAUc,eACTC,MAAM,QACNC,IAAG,SAAUC,GAAK,OAAOpF,KAAKqF,IAAI,EAAO,EAAJD,MACrCE,WACAC,SACL,IAAIpB,EAAUc,eACTC,MAAM,YACNC,IAAG,SAAUC,GAAK,OAAO,IAAIxM,EAAaa,OAAO,IAAK,IAAK,KAAKiK,MAAM0B,MACtEE,WACAC,SAETC,OAAQ,CAAC,SAAU,WACpB9I,GACCC,EAAUuH,EAAIuB,MAAMjN,QAAQiE,cAAc,CAC1C0F,eAAgB,CACZI,MAAO,EACPE,SAAU,EACVkB,QAASc,EAAUd,SAEvBtB,gBAAiB,CACbvJ,KAAM,EACNE,OAAQ,CAAC,CAAEyB,KAAM,EAAGoI,MAAO4B,EAAU5B,QACrC5J,cAAeoL,EAAQqB,cAAclB,GACrCzL,MAAOuL,EAAUO,MAAM,GAAIP,EAAUxB,kBAAkB2B,EAAUE,SACjEtL,gBAAiB,EACjBC,aAAcmL,EAAUG,MACxBrL,YAAakL,EAAUhE,KACvBjH,gBAAiBiL,EAAUjE,SAC3B9G,aAAc+K,EAAUnM,OAE5BgK,gBAAiB,CACbxD,aAAc2F,EAAUe,UAGhC,OAAO7I,EAEX1G,EAAQgO,SAAWA,G,oCC5DnBlO,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ0P,eAAiB1P,EAAQ2P,aAAe3P,EAAQ4P,aAAe5P,EAAQ4O,KAAO5O,EAAQyO,MAAQzO,EAAQ6M,uBAAoB,EAClI,IAAIgD,EAAW,EAAQ,QAIvB,SAAShD,EAAkBwB,GACvB,OAAIlK,MAAMC,QAAQiK,GACPwB,EAASC,KAAKzB,GACA,oBAAdA,EACAA,IACJA,EAMX,SAASI,EAAMW,EAAKW,GAChB,OAAO,WAAc,OAAOF,EAASd,YAAYK,EAAKW,IAW1D,SAASnB,EAAK3O,EAAO+P,GACjB,OAAO,WAAc,OAAO/P,EAAQ4P,EAASd,aAAaiB,EAAQA,IAQtE,SAASJ,EAAa3P,EAAOgQ,GACzB,OAAO,WAAc,OAAOhQ,GAAS,EAAI4P,EAASd,aAAakB,EAAYA,KAQ/E,SAASN,EAAaO,GAClB,OAAO,WAAc,OAAOA,EAAO3L,SAASwF,KAAKoE,WAYrD,SAASuB,EAAeS,GACpB,OAAOR,EAAaQ,GAhDxBnQ,EAAQ6M,kBAAoBA,EAO5B7M,EAAQyO,MAAQA,EAYhBzO,EAAQ4O,KAAOA,EASf5O,EAAQ4P,aAAeA,EASvB5P,EAAQ2P,aAAeA,EAavB3P,EAAQ0P,eAAiBA,G,oCC/DzB5P,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQgP,mBAAgB,EACxB,IAAIrM,EAAe,EAAQ,QAmBvBqM,EAA+B,WAC/B,SAASA,IAML3K,KAAK+L,OAAS,WACd/L,KAAKgM,YAAa,EA4EtB,OAjEArB,EAAc1K,UAAU2K,MAAQ,SAAUqB,GAEtC,OADAjM,KAAKkM,UAAYD,EACVjM,MAOX2K,EAAc1K,UAAUkM,QAAU,SAAUJ,GAExC,OADA/L,KAAK+L,OAASA,EACP/L,MASX2K,EAAc1K,UAAU4K,GAAK,SAAUuB,GAEnC,OADApM,KAAKqM,YAAcD,EACZpM,MAmBX2K,EAAc1K,UAAU+K,SAAW,SAAUgB,GAGzC,YAFmB,IAAfA,IAAyBA,GAAa,GAC1ChM,KAAKgM,WAAaA,EACXhM,MASX2K,EAAc1K,UAAUgL,MAAQ,WAC5B,IAAIqB,EAAQtM,KACZ,GAA8B,qBAAnBA,KAAKkM,UACZ,MAAM,IAAIrM,MAAM,wFAEpB,GAAgC,qBAArBG,KAAKqM,YACZ,MAAM,IAAIxM,MAAM,4FAEpB,OAAO,SAAUgE,GACb0I,EAAqB1I,EAAUyI,EAAMJ,UAAWM,EAAqBF,EAAMD,YAAaI,EAAsBH,EAAMP,OAAQlI,GAAWA,GAAWyI,EAAMN,cAGzJrB,EApFuB,GA0FlC,SAAS6B,EAAqBJ,EAAQL,EAAQlI,GAC1C,MAAsB,kBAAXuI,GAAuB,aAAcA,EACrCA,EAAOlM,SAAS6L,GAEL,oBAAXK,EACAA,EAAOL,EAAQlI,GAEnBuI,EAKX,SAASK,EAAsBV,EAAQlI,GACnC,OAAQkI,GACJ,IAAK,WACD,OAAOlI,EAAS9E,gBAAkB8E,EAASI,SAC/C,IAAK,mBACD,OAASJ,EAAS9E,gBAAkB8E,EAASI,UACzCJ,EAAS9E,gBACjB,IAAK,OACD,OAAO8E,EAASsC,KACpB,QACI,MAAM,IAAItG,MAAM,2BAA6BkM,EAAS,OAWlE,SAASQ,EAAqB1I,EAAUoI,EAAKrQ,EAAOoP,GAEhD,QADiB,IAAbA,IAAuBA,GAAW,GACjCA,EAGA,CACD,IAAI0B,EAAU7I,EAAS,UAAYoI,EAAI,GAAGU,cAAgBV,EAAIW,OAAO,IACrE,GAAuB,qBAAZF,EACP,MAAM,IAAI7M,MAAM,6CAA+CoM,EAAM,+BAEzE,GAAIrQ,aAAiB0C,EAAaa,OAC9BoN,EAAqB1I,EAAUoI,EAAKS,EAAQxD,IAAItN,QAE/C,IAAqB,kBAAVA,EAIZ,MAAM,IAAIiE,MAAM,sDAAwDoM,EAAM,iCAAmCrQ,EAAQ,wBAHzH2Q,EAAqB1I,EAAUoI,EAAKS,EAAU9Q,SAXlDiI,EAASoI,GAAOrQ,EAxCxBD,EAAQgP,cAAgBA,G,kCCzGxB,IAAIkC,EAAU,wIAQd,SAASC,EAAQC,GACf,QAAIA,EAAOnN,OAAS,MACbiN,EAAQG,KAAKD,GAOtBE,EAAOtR,QAAUmR,G,kCCnBjB,IAAI1G,EAAmBpG,MAAQA,KAAKoG,kBAAqB3K,OAAO4K,OAAS,SAAUC,EAAGC,EAAGC,EAAGC,QAC7E7E,IAAP6E,IAAkBA,EAAKD,GAC3B/K,OAAOC,eAAe4K,EAAGG,EAAI,CAAEC,YAAY,EAAMC,IAAK,WAAa,OAAOJ,EAAEC,OAC3E,SAAUF,EAAGC,EAAGC,EAAGC,QACT7E,IAAP6E,IAAkBA,EAAKD,GAC3BF,EAAEG,GAAMF,EAAEC,KAEVI,EAAgB5G,MAAQA,KAAK4G,cAAiB,SAASL,EAAG5K,GAC1D,IAAK,IAAIkL,KAAKN,EAAa,YAANM,GAAoBpL,OAAOwE,UAAU6G,eAAeC,KAAKpL,EAASkL,IAAIT,EAAgBzK,EAAS4K,EAAGM,IAE3HpL,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDgL,EAAa,EAAQ,QAAajL,GAClCiL,EAAa,EAAQ,QAAejL,GACpCiL,EAAa,EAAQ,QAAYjL,GACjCiL,EAAa,EAAQ,QAAWjL,I,oCCdhC,IAAIuR,EAAalN,MAAQA,KAAKkN,WAAc,WACxC,IAAIC,EAAgB,SAAUC,EAAG7M,GAI7B,OAHA4M,EAAgB1R,OAAO4R,gBAClB,CAAEC,UAAW,cAAgBxN,OAAS,SAAUsN,EAAG7M,GAAK6M,EAAEE,UAAY/M,IACvE,SAAU6M,EAAG7M,GAAK,IAAK,IAAIsG,KAAKtG,EAAO9E,OAAOwE,UAAU6G,eAAeC,KAAKxG,EAAGsG,KAAIuG,EAAEvG,GAAKtG,EAAEsG,KACzFsG,EAAcC,EAAG7M,IAE5B,OAAO,SAAU6M,EAAG7M,GAChB,GAAiB,oBAANA,GAA0B,OAANA,EAC3B,MAAM,IAAIgN,UAAU,uBAAyBC,OAAOjN,GAAK,iCAE7D,SAASkN,IAAOzN,KAAK0N,YAAcN,EADnCD,EAAcC,EAAG7M,GAEjB6M,EAAEnN,UAAkB,OAANM,EAAa9E,OAAO4K,OAAO9F,IAAMkN,EAAGxN,UAAYM,EAAEN,UAAW,IAAIwN,IAZ3C,GAe5ChS,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQgS,mBAAgB,EACxB,IAAInO,EAAS,EAAQ,QACjBoO,EAAW,EAAQ,QAInBD,EAA+B,SAAUE,GAEzC,SAASF,IACL,OAAkB,OAAXE,GAAmBA,EAAOC,MAAM9N,KAAML,YAAcK,KAQ/D,OAVAkN,EAAUS,EAAeE,GAOzBF,EAAc1N,UAAUc,YAAc,SAAUT,EAAGC,EAAGuK,GAClD,OAAOtL,EAAOuO,MAAMzN,EAAGC,EAAGuK,IAEvB6C,EAXuB,CAYhCC,EAASrO,QACX5D,EAAQgS,cAAgBA,G,kCCnCxB,IAAIK,EAAiBhO,MAAQA,KAAKgO,eAAkB,SAAUC,EAAIC,GAC9D,IAAK,IAAI/K,EAAI,EAAGgL,EAAKD,EAAKtO,OAAQwO,EAAIH,EAAGrO,OAAQuD,EAAIgL,EAAIhL,IAAKiL,IAC1DH,EAAGG,GAAKF,EAAK/K,GACjB,OAAO8K,GAEXxS,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQwD,YAAS,EACjB,IAAIK,EAAS,EAAQ,QAgBjBL,EAAwB,WAKxB,SAASA,EAAO0G,EAAGvB,EAAG2B,QACR,IAANJ,IAAgBA,EAAI,QACd,IAANvB,IAAgBA,EAAI,QACd,IAAN2B,IAAgBA,EAAI,GACxBjG,KAAKqO,OAAS,IAAIC,aAAa,GAC/BtO,KAAKuO,IAAM,CAAC1I,EAAGvB,EAAG2B,GAwKtB,OAtKAxK,OAAOC,eAAeyD,EAAOc,UAAW,IAAK,CAIzC0G,IAAK,WACD,OAAO3G,KAAKqO,OAAO,IAKvBG,IAAK,SAAU5S,GACXoE,KAAKqO,OAAO,GAAKzS,GAErB8K,YAAY,EACZwB,cAAc,IAElBzM,OAAOC,eAAeyD,EAAOc,UAAW,IAAK,CAIzC0G,IAAK,WACD,OAAO3G,KAAKqO,OAAO,IAKvBG,IAAK,SAAU5S,GACXoE,KAAKqO,OAAO,GAAKzS,GAErB8K,YAAY,EACZwB,cAAc,IAElBzM,OAAOC,eAAeyD,EAAOc,UAAW,IAAK,CAIzC0G,IAAK,WACD,OAAO3G,KAAKqO,OAAO,IAKvBG,IAAK,SAAU5S,GACXoE,KAAKqO,OAAO,GAAKzS,GAErB8K,YAAY,EACZwB,cAAc,IAElBzM,OAAOC,eAAeyD,EAAOc,UAAW,MAAO,CAI3C0G,IAAK,WACD,MAAO,CAAC3G,KAAK6F,EAAG7F,KAAKsE,EAAGtE,KAAKiG,IAKjCuI,IAAK,SAAUH,GACXrO,KAAKqO,OAAO,GAAKA,EAAO,GACxBrO,KAAKqO,OAAO,GAAKA,EAAO,GACxBrO,KAAKqO,OAAO,GAAKA,EAAO,IAE5B3H,YAAY,EACZwB,cAAc,IAKlB/I,EAAOc,UAAUwO,UAAY,WACzB,OAAO/I,KAAKgJ,KAAK1O,KAAK2O,iBAK1BxP,EAAOc,UAAU0O,aAAe,WAC5B,OAAO3O,KAAK6F,EAAI7F,KAAK6F,EAAI7F,KAAKsE,EAAItE,KAAKsE,EAAItE,KAAKiG,EAAIjG,KAAKiG,GAK7D9G,EAAOc,UAAUiJ,IAAM,SAAU0F,GAC7B,OAAO,IAAIzP,EAAOa,KAAK6F,EAAI+I,EAAO/I,EAAG7F,KAAKsE,EAAIsK,EAAOtK,EAAGtE,KAAKiG,EAAI2I,EAAO3I,IAK5E9G,EAAOc,UAAU4O,SAAW,SAAUD,GAClC,OAAO,IAAIzP,EAAOa,KAAK6F,EAAI+I,EAAO/I,EAAG7F,KAAKsE,EAAIsK,EAAOtK,EAAGtE,KAAKiG,EAAI2I,EAAO3I,IAK5E9G,EAAOc,UAAUmJ,MAAQ,SAAU0F,GAC/B,MAAsB,kBAAXA,EACA,IAAI3P,EAAOa,KAAK6F,EAAIiJ,EAAQ9O,KAAKsE,EAAIwK,EAAQ9O,KAAKiG,EAAI6I,GAGtD,IAAI3P,EAAOa,KAAK6F,EAAIiJ,EAAOjJ,EAAG7F,KAAKsE,EAAIwK,EAAOxK,EAAGtE,KAAKiG,EAAI6I,EAAO7I,IAOhF9G,EAAOc,UAAU8O,WAAa,WAC1B,IAAIN,EAAYzO,KAAKyO,YACrB,OAAkB,IAAdA,EACOzO,KAAKoJ,MAAM,EAAIqF,GAEnB,IAAKtP,EAAO8C,KAAK6L,MAAM3O,EAAQ6O,EAAc,MAAC,GAAShO,KAAKuO,QAKvEpP,EAAOc,UAAUxB,MAAQ,SAAUmQ,GAC/B,OAAQpP,EAAOwP,QACXtJ,KAAKuJ,MAAMjP,KAAK6F,EAAI+I,EAAO/I,EAAI7F,KAAKsE,EAAIsK,EAAOtK,EAAItE,KAAKiG,EAAI2I,EAAO3I,IAC9DjG,KAAKyO,YAAcG,EAAOH,eAKvCtP,EAAOc,UAAUiP,MAAQ,SAAUN,GAC/B,OAAO,IAAIzP,EAAOa,KAAKsE,EAAIsK,EAAO3I,EAAIjG,KAAKiG,EAAI2I,EAAOtK,EAAGtE,KAAKiG,EAAI2I,EAAO/I,EAAI7F,KAAK6F,EAAI+I,EAAO3I,EAAGjG,KAAK6F,EAAI+I,EAAOtK,EAAItE,KAAKsE,EAAIsK,EAAO/I,IAKxI1G,EAAOc,UAAUkP,IAAM,SAAUP,GAC7B,OAAQ5O,KAAKyO,YACTG,EAAOH,YACP/I,KAAK0J,IAAI5P,EAAO6P,QAAUrP,KAAKvB,MAAMmQ,KAK7CzP,EAAOc,UAAUvC,SAAW,WACxB,MAAO,UAAYsC,KAAKqO,OAAOiB,KAAK,MAAQ,KAKhDnQ,EAAOqK,YAAc,SAAU/K,GAC3B,OAAO,IAAIU,EAAOuG,KAAK0J,IAAI3Q,EAAQe,EAAO6P,SAAU3J,KAAK6J,IAAI9Q,EAAQe,EAAO6P,WAKhFlQ,EAAOL,KAAO,IAAIK,EAAO,EAAG,EAAG,GAI/BA,EAAOqQ,IAAM,IAAIrQ,EAAO,EAAG,EAAG,GAI9BA,EAAOsQ,MAAQ,IAAItQ,EAAO,EAAG,EAAG,GAIhCA,EAAOgK,GAAK,IAAIhK,EAAO,EAAG,EAAG,GAI7BA,EAAOuQ,QAAU,IAAIvQ,EAAO,EAAG,EAAG,GAC3BA,EAlLgB,GAoL3BxD,EAAQwD,OAASA,G,kCC3MjB,IAAIiH,EAAmBpG,MAAQA,KAAKoG,kBAAqB3K,OAAO4K,OAAS,SAAUC,EAAGC,EAAGC,EAAGC,QAC7E7E,IAAP6E,IAAkBA,EAAKD,GAC3B/K,OAAOC,eAAe4K,EAAGG,EAAI,CAAEC,YAAY,EAAMC,IAAK,WAAa,OAAOJ,EAAEC,OAC3E,SAAUF,EAAGC,EAAGC,EAAGC,QACT7E,IAAP6E,IAAkBA,EAAKD,GAC3BF,EAAEG,GAAMF,EAAEC,KAEVI,EAAgB5G,MAAQA,KAAK4G,cAAiB,SAASL,EAAG5K,GAC1D,IAAK,IAAIkL,KAAKN,EAAa,YAANM,GAAoBpL,OAAOwE,UAAU6G,eAAeC,KAAKpL,EAASkL,IAAIT,EAAgBzK,EAAS4K,EAAGM,IAE3HpL,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDgL,EAAa,EAAQ,QAAejL,GACpCiL,EAAa,EAAQ,QAAejL,I,kCCZpCF,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQqB,UAAO,EAKf,IAAIA,EAAsB,WACtB,SAASA,EAAK2S,EAASC,QACJ,IAAXA,IAAqBA,EAAS5S,EAAK6S,eACvC7P,KAAK2P,QAAUA,EACf3P,KAAK4P,OAASA,EAmBlB,OAjBAnU,OAAOC,eAAesB,EAAKiD,UAAW,UAAW,CAK7C0G,IAAK,WAID,OAHK3G,KAAK4P,OAAO5P,KAAKpE,SAClBoE,KAAKpE,MAAQoE,KAAK2P,WAEf3P,KAAKpE,OAEhB8K,YAAY,EACZwB,cAAc,IAElBlL,EAAK6S,cAAgB,SAAUjU,GAC3B,MAAwB,qBAAVA,GAEXoB,EAvBc,GAyBzBrB,EAAQqB,KAAOA,G,kCC/BfvB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQkD,UAAO,EAIf,IAAIA,EAAsB,WACtB,SAASA,EAAKgH,EAAGvB,EAAGjH,EAAOD,QACT,IAAVC,IAAoBA,EAAQ,QACjB,IAAXD,IAAqBA,EAAS,GAClC4C,KAAK6F,EAAIA,EACT7F,KAAKsE,EAAIA,EACTtE,KAAK3C,MAAQA,EACb2C,KAAK5C,OAASA,EAgBlB,OAXAyB,EAAKiR,WAAa,WACd,OAAO,IAAIjR,EAAKgE,OAAOiD,QAASjD,OAAOmD,QAASnD,OAAOkN,WAAYlN,OAAOmN,cAK9EnR,EAAKoR,YAAc,SAAUhL,GACzB,IAAIiL,EAAIjL,EAAQkL,wBAChB,OAAO,IAAItR,EAAKgE,OAAOiD,QAAUoK,EAAErK,EAAGhD,OAAOmD,QAAUkK,EAAE5L,EAAG4L,EAAE7S,MAAO6S,EAAE9S,SAE3EyB,EAAKC,KAAO,IAAID,EAAK,EAAG,GACjBA,EAvBc,GAyBzBlD,EAAQkD,KAAOA,G,kCC9BfpD,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ+F,cAAW,EACnB,IAAIkI,EAAM,EAAQ,QACdzC,EAAW,EAAQ,QACnBiJ,EAAe,EAAQ,QACvBC,EAAW,EAAQ,QACnBpU,EAAS,EAAQ,QAMjByF,EAA0B,WAC1B,SAASA,IAKL1B,KAAKsQ,SAAW,IAAIC,IAIpBvQ,KAAKwQ,MAAQ,IAAIrJ,EAAShI,OAAO,EAAG,EAAG,GAIvCa,KAAKyQ,SAAU,EAGfzQ,KAAKyQ,SACA7G,EAAInM,SAASyD,uBACT2B,OAAO6N,WAAW,4BAA4BC,QAiF3D,OA3EAjP,EAASzB,UAAUuD,MAAQ,WACvBxD,KAAK4Q,kBAAoB,IAQ7BlP,EAASzB,UAAU8D,IAAM,WACrB,IAAI8M,EAAK7Q,KAAKsQ,SAAS7Q,OACnBqR,EAASD,EAAGE,OAChB,OAAQD,EAAOE,KAAM,CACjB,IAAIpU,EAAKkU,EAAOlV,MACXoE,KAAK4Q,kBAAkBtI,SAAS1L,KACjCoD,KAAKsQ,SAAS3J,IAAI/J,GAAIqU,SACtBjR,KAAKsQ,SAASY,OAAOtU,IAEzBkU,EAASD,EAAGE,OAEhB,OAAO/Q,KAAK4Q,kBAAkBhR,QASlC8B,EAASzB,UAAU6D,eAAiB,SAAUD,EAAUxB,GACpD,GAAKrC,KAAKyQ,QAAV,CAEA,IAAIrO,EAAUC,EAAQZ,SAElBwD,EAAUjF,KAAKsQ,SAASa,IAAItN,EAASjH,IACnCoD,KAAKsQ,SAAS3J,IAAI9C,EAASjH,IAC3BoD,KAAKoR,sBAAsBvN,EAAUzB,GAS3C,GARIA,EAAQqC,YAERrC,EAAQqC,WAAWZ,EAAS7F,MAAOiH,GAEnC7C,EAAQuC,cAERvC,EAAQuC,aAAad,EAAS0B,QAASN,GAEvC7C,EAAQyC,cAAe,CAIvB,IAAIwM,EAASpV,EAAOqV,iBAAiBzN,EAASqC,UAC1CqL,EAAsBF,EAAOlC,IAAInP,KAAKwQ,OAC1CpO,EAAQyC,cAAc0M,EAAqBtM,GAE3C7C,EAAQ2C,gBAGR3C,EAAQ2C,eAAelB,EAAUoB,GAGrCjF,KAAK4Q,kBAAkBrO,KAAKsB,EAASjH,MAKzC8E,EAASzB,UAAUmR,sBAAwB,SAAUvN,EAAUzB,GAE3D,IAAIoP,EAAWnB,EAASoB,oBAAoBrP,EAAQoC,cAEhDS,EAAUuM,EAASE,WAAU,GAKjC,OAHAzM,EAAQnI,MAAMG,SAAW,WAEzB+C,KAAKsQ,SAAS9B,IAAI3K,EAASjH,GAAIwT,EAAavU,kBAAkBqC,QAAQnB,YAAYkI,IAC3EA,GAEJvD,EApGkB,GAsG7B/F,EAAQ+F,SAAWA,G,kCClHnB,IAAI0E,EAAmBpG,MAAQA,KAAKoG,kBAAqB3K,OAAO4K,OAAS,SAAUC,EAAGC,EAAGC,EAAGC,QAC7E7E,IAAP6E,IAAkBA,EAAKD,GAC3B/K,OAAOC,eAAe4K,EAAGG,EAAI,CAAEC,YAAY,EAAMC,IAAK,WAAa,OAAOJ,EAAEC,OAC3E,SAAUF,EAAGC,EAAGC,EAAGC,QACT7E,IAAP6E,IAAkBA,EAAKD,GAC3BF,EAAEG,GAAMF,EAAEC,KAEVI,EAAgB5G,MAAQA,KAAK4G,cAAiB,SAASL,EAAG5K,GAC1D,IAAK,IAAIkL,KAAKN,EAAa,YAANM,GAAoBpL,OAAOwE,UAAU6G,eAAeC,KAAKpL,EAASkL,IAAIT,EAAgBzK,EAAS4K,EAAGM,IAE3HpL,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDgL,EAAa,EAAQ,QAAqBjL,GAC1CiL,EAAa,EAAQ,QAAsBjL,GAC3CiL,EAAa,EAAQ,QAAoBjL,I,kCCbzC,IAAIyK,EAAmBpG,MAAQA,KAAKoG,kBAAqB3K,OAAO4K,OAAS,SAAUC,EAAGC,EAAGC,EAAGC,QAC7E7E,IAAP6E,IAAkBA,EAAKD,GAC3B/K,OAAOC,eAAe4K,EAAGG,EAAI,CAAEC,YAAY,EAAMC,IAAK,WAAa,OAAOJ,EAAEC,OAC3E,SAAUF,EAAGC,EAAGC,EAAGC,QACT7E,IAAP6E,IAAkBA,EAAKD,GAC3BF,EAAEG,GAAMF,EAAEC,KAEVI,EAAgB5G,MAAQA,KAAK4G,cAAiB,SAASL,EAAG5K,GAC1D,IAAK,IAAIkL,KAAKN,EAAa,YAANM,GAAoBpL,OAAOwE,UAAU6G,eAAeC,KAAKpL,EAASkL,IAAIT,EAAgBzK,EAAS4K,EAAGM,IAE3HpL,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQgW,QAAUhW,EAAQiW,UAAYjW,EAAQsO,KAAOtO,EAAQkW,KAAOlW,EAAQmO,OAASnO,EAAQoO,QAAUpO,EAAQqO,UAAYrO,EAAQ2G,QAAU3G,EAAQ4N,SAAW5N,EAAQ8B,SAAW9B,EAAQwP,WAAQ,EACnM,IAAI2G,EAAU,EAAQ,QAClB7V,EAAS,EAAQ,QACrB2K,EAAa,EAAQ,QAAiBjL,GACtCiL,EAAa,EAAQ,QAAgBjL,GACrCiL,EAAa,EAAQ,QAAqBjL,GAC1CiL,EAAa,EAAQ,QAAsBjL,GAE3CA,EAAQwP,MAAQ,IAAIlP,EAAOe,MAAK,WAE5B,GAAwB,qBAAbN,UAA8C,qBAAXmG,OAC1C,MAAM,IAAIhD,MAAM,2GAEpB,OAAO,IAAIiS,EAAQ3Q,SAEvB,IAAInF,EAAa,EAAQ,QACzBP,OAAOC,eAAeC,EAAS,WAAY,CAAE+K,YAAY,EAAMC,IAAK,WAAc,OAAO3K,EAAWyB,YACpG,IAAI8J,EAAa,EAAQ,QACzB9L,OAAOC,eAAeC,EAAS,WAAY,CAAE+K,YAAY,EAAMC,IAAK,WAAc,OAAOY,EAAWgC,YACpG,IAAIlI,EAAY,EAAQ,QAUxB,SAASuQ,IACLjW,EAAQwP,MAAMjN,QAVlBzC,OAAOC,eAAeC,EAAS,UAAW,CAAE+K,YAAY,EAAMC,IAAK,WAAc,OAAOtF,EAAUiB,WAClG3G,EAAQqO,UAAY,EAAQ,QAC5BrO,EAAQoO,QAAU,EAAQ,QAC1BpO,EAAQmO,OAAS,EAAQ,QACzBnO,EAAQkW,KAAO,EAAQ,QACvBlW,EAAQsO,KAAO,EAAQ,QAOvBtO,EAAQiW,UAAYA,EACpBjW,EAAQgW,QAAU,EAAQ,S,yCC7C1B,IAAII,EAAS,WAAa,IAAIC,EAAIhS,KAASiS,EAAGD,EAAIE,eAAsBF,EAAIG,MAAMxO,GAAO,OAAOqO,EAAII,GAAG,IACnGC,EAAkB,CAAC,WAAa,IAAIL,EAAIhS,KAASiS,EAAGD,EAAIE,eAAmBvO,EAAGqO,EAAIG,MAAMxO,IAAIsO,EAAG,OAAOtO,EAAG,MAAM,CAACA,EAAG,MAAM,CAAC2O,YAAY,kBAAkB,CAAC3O,EAAG,OAAO,CAAC2O,YAAY,QAAQC,YAAY,CAAC,YAAY,SAAS,CAACP,EAAIQ,GAAG,eAAe7O,EAAG,MAAMA,EAAG,MAAMA,EAAG,IAAI,CAACqO,EAAIQ,GAAG,uCAAuC7O,EAAG,IAAI,CAAC8O,MAAM,CAAC,KAAO,aAAa,CAACT,EAAIQ,GAAG,WAAWR,EAAIQ,GAAG,4CAA4C7O,EAAG,MAAM,CAAC2O,YAAY,aAAa,CAAC3O,EAAG,QAAQ,CAAC2O,YAAY,aAAaG,MAAM,CAAC,KAAO,OAAO,KAAO,OAAO,YAAc,OAAO,GAAK,UAAU9O,EAAG,QAAQ,CAAC2O,YAAY,aAAaG,MAAM,CAAC,KAAO,OAAO,KAAO,MAAM,YAAc,MAAM,GAAK,SAAS9O,EAAG,QAAQ,CAAC2O,YAAY,aAAaG,MAAM,CAAC,KAAO,OAAO,KAAO,SAAS,YAAc,sBAAsB,GAAK,YAAY9O,EAAG,QAAQ,CAAC2O,YAAY,aAAaG,MAAM,CAAC,KAAO,QAAQ,KAAO,QAAQ,YAAc,QAAQ,GAAK,WAAW9O,EAAG,QAAQ,CAAC2O,YAAY,aAAaG,MAAM,CAAC,KAAO,OAAO,KAAO,QAAQ,YAAc,QAAQ,GAAK,WAAW9O,EAAG,QAAQ,CAAC2O,YAAY,aAAaG,MAAM,CAAC,KAAO,OAAO,KAAO,OAAO,YAAc,OAAO,GAAK,UAAU9O,EAAG,WAAW,CAAC2O,YAAY,mBAAmBG,MAAM,CAAC,KAAO,OAAO,KAAO,KAAK,KAAO,KAAK,KAAO,OAAO,YAAc,8BAA8B,GAAK,UAAU9O,EAAG,SAAS,CAAC2O,YAAY,gBAAgBG,MAAM,CAAC,GAAK,cAAc,CAACT,EAAIQ,GAAG,kBCDj1C,MAAME,EAAQ,CACjBC,QAAS,2BCKAC,EAAO,CAACC,EAAQC,EAAS,6BAClCJ,EAAMK,QAAUF,EAChBH,EAAMC,QAAUG,GCRPE,EAAiB,CAACH,EAAQI,EAAWC,KAC9C,IAAKL,EACD,KAAM,iFAEV,IAAKI,EACD,KAAM,wEAEV,IAAKC,EACD,KAAM,mFAEV,OAAO,GCVJ,MAAMC,EACT,YAAYC,GACRpT,KAAKqT,OAASD,EAAaC,OAC3BrT,KAAKsT,KAAOF,EAAaG,cCD1B,MAAMC,EAAW,CAACC,EAAKC,EAAMC,EAAU,KACnC,IAAIC,QAAQ,CAACC,EAASC,KACzB,MAAMC,EAAM,IAAIC,eAChBD,EAAIE,iBAAiB,OAAQ,EAAGC,aAC5B,MAAMC,EAAiB,IAAIhB,EAAsBe,GACnB,MAA1BC,EAAed,QAA0C,OAAxBc,EAAeb,KAChDO,EAAQM,GAGRL,EAAOK,KAGfJ,EAAIE,iBAAiB,QAAS,EAAGC,aAC7BJ,EAAO,IAAIX,EAAsBe,MAErCH,EAAIK,KAAK,OAAQ1B,EAAMC,QAAUc,GAAK,GACtChY,OAAOgE,KAAKkU,GAASU,QAASpI,IAC1B8H,EAAIO,iBAAiBrI,EAAK0H,EAAQ1H,MAEtC8H,EAAIQ,KAAKb,KCVJa,EAAO,CAACtB,EAAWC,EAAYsB,EAAe3B,KACvD,MAAM4B,EAAM5B,GAAUH,EAAMK,QAC5BC,EAAeyB,EAAKxB,EAAWC,GAC/B,MAAMwB,EAAS,CACXC,YAAa,QACbC,QAASH,EACTI,WAAY5B,EACZ6B,YAAa5B,EACb6B,gBAAiBP,GAErB,OAAOhB,EAAS,uBAAwBwB,KAAKC,UAAUP,GAAS,CAC5D,eAAgB,sBCnBlBQ,EAAgBC,IAClB,IAAIC,EAOJ,GALIA,EADgB,kBAATD,EACOzY,SAAS2Y,cAAcF,GAGvBA,GAEbC,GAAwC,SAAzBA,EAAYhQ,SAC5B,KAAM,0FAEV,OAAOgQ,GAUEE,EAAW,CAACrC,EAAWC,EAAYiC,EAAMtC,KAClD,MAAM4B,EAAM5B,GAAUH,EAAMK,QACtBqC,EAAcF,EAAaC,GACjCnC,EAAeyB,EAAKxB,EAAWC,GAC/B,MAAMqC,EAAW,IAAIC,SAASJ,GAK9B,OAJAG,EAASE,OAAO,cAAe,SAC/BF,EAASE,OAAO,aAAcxC,GAC9BsC,EAASE,OAAO,cAAevC,GAC/BqC,EAASE,OAAO,UAAWhB,GACpBjB,EAAS,4BAA6B+B,IC7BlC,OACX3C,OACA2B,OACAe,Y,qBCeJ,YAIA1C,EAAK,8BAEL,OACE,QADF,WAEI,IAAJ,kCACA,iCACA,oCACA,mCACA,mCACA,kCACA,kCAEA,uCAiDI,SAAJ,IACM,MAAN,+BAhDI,EAAJ,qCACM,EAAN,iBACQ,MAAR,gCAGI,EAAJ,qCAGM,IAAN,UACA,UACA,UACA,UACA,UACA,UACA,UAEM,IAAN,aACM,IAAN,aACM,IAAN,aACM,IAAN,aACM,IAAN,aACM,IAAN,aACM,IAAN,aAEM,IAAN,yDAEM,IAAN,GACQ,KAAR,EACQ,IAAR,EACQ,OAAR,EACQ,MAAR,EACQ,OAAR,EACQ,KAAR,EACQ,KAAR,GAEM,EAAN,qCACA,kBACQ,MAAR,oFACQ,QAAR,UACA,YACQ,MAAR,+CACQ,QAAR,eCjF8U,I,wBCQ1U8C,EAAY,eACd,EACA3D,EACAM,GACA,EACA,KACA,WACA,MAIa,aAAAqD,E,2CClBfja,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ2V,sBAAmB,EAC3B,IAAIhT,EAAe,EAAQ,QACvBkB,EAAS,EAAQ,QAarB,SAAS8R,EAAiBpL,GACtB,IAAIyP,EAAQzP,EAASL,EAAIrG,EAAO6P,QAC5BuG,EAAO1P,EAAS5B,EAAI9E,EAAO6P,QAC3B/O,EAAI,IAAIhC,EAAaa,OAAOuG,KAAK0J,IAAIwG,GAAO,EAAGlQ,KAAK6J,IAAIqG,IACxDrV,EAAI,IAAIjC,EAAaa,OAAO,EAAGuG,KAAK0J,IAAIuG,GAAQjQ,KAAK6J,IAAIoG,IAC7D,OAAOrV,EAAE4O,MAAM3O,GAEnB5E,EAAQ2V,iBAAmBA,G,kCCvB3B,IAAIpE,EAAalN,MAAQA,KAAKkN,WAAc,WACxC,IAAIC,EAAgB,SAAUC,EAAG7M,GAI7B,OAHA4M,EAAgB1R,OAAO4R,gBAClB,CAAEC,UAAW,cAAgBxN,OAAS,SAAUsN,EAAG7M,GAAK6M,EAAEE,UAAY/M,IACvE,SAAU6M,EAAG7M,GAAK,IAAK,IAAIsG,KAAKtG,EAAO9E,OAAOwE,UAAU6G,eAAeC,KAAKxG,EAAGsG,KAAIuG,EAAEvG,GAAKtG,EAAEsG,KACzFsG,EAAcC,EAAG7M,IAE5B,OAAO,SAAU6M,EAAG7M,GAChB,GAAiB,oBAANA,GAA0B,OAANA,EAC3B,MAAM,IAAIgN,UAAU,uBAAyBC,OAAOjN,GAAK,iCAE7D,SAASkN,IAAOzN,KAAK0N,YAAcN,EADnCD,EAAcC,EAAG7M,GAEjB6M,EAAEnN,UAAkB,OAANM,EAAa9E,OAAO4K,OAAO9F,IAAMkN,EAAGxN,UAAYM,EAAEN,UAAW,IAAIwN,IAZ3C,GAexCO,EAAiBhO,MAAQA,KAAKgO,eAAkB,SAAUC,EAAIC,GAC9D,IAAK,IAAI/K,EAAI,EAAGgL,EAAKD,EAAKtO,OAAQwO,EAAIH,EAAGrO,OAAQuD,EAAIgL,EAAIhL,IAAKiL,IAC1DH,EAAGG,GAAKF,EAAK/K,GACjB,OAAO8K,GAEXxS,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQka,cAAW,EACnB,IAAIjI,EAAW,EAAQ,QAInBiI,EAA0B,SAAUhI,GAEpC,SAASgI,IACL,OAAkB,OAAXhI,GAAmBA,EAAOC,MAAM9N,KAAML,YAAcK,KA4B/D,OA9BAkN,EAAU2I,EAAUhI,GAOpBgI,EAAS5V,UAAUc,YAAc,SAAUT,EAAGC,EAAGuK,GAC7C,OAAOxK,EAAEwV,IAAIvV,EAAGuK,IAKpB+K,EAASE,MAAQ,SAAU/X,GACvB,OAAO,IAAI6X,EAAS,CAAEja,MAAOoC,EAAOmC,KAAM,MAK9C0V,EAASG,OAAS,WAEd,IADA,IAAIC,EAAS,GACJvW,EAAK,EAAGA,EAAKC,UAAUC,OAAQF,IACpCuW,EAAOvW,GAAMC,UAAUD,GAE3B,IAAIwW,EAAO,GAAKD,EAAOrW,OAAS,GAChC,OAAO,IAAKiW,EAAS5T,KAAK6L,MAAM+H,EAAU7H,EAAc,MAAC,GAASiI,EAAOE,KAAI,SAAUnY,EAAOoY,GAAS,MAAO,CAC1Gxa,MAAOoC,EACPmC,KAAMiW,EAAQF,UAGfL,EA/BkB,CAgC3BjI,EAASrO,QACX5D,EAAQka,SAAWA,G,kCC3DnBpa,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ0a,mBAAqB1a,EAAQ2a,iBAAmB3a,EAAQ6O,iBAAmB7O,EAAQ8P,KAAO9P,EAAQ+O,iBAAc,EACxH,IAAIpM,EAAe,EAAQ,QACvBkB,EAAS,EAAQ,QAIrB,SAASkL,EAAYK,EAAKW,GAGtB,YAFY,IAARX,IAAkBA,EAAM,QAChB,IAARW,IAAkBA,EAAM,GACrBlM,EAAO+W,KAAKxL,EAAKW,EAAKhG,KAAKoE,UAMtC,SAAS2B,EAAK+K,GACV,OAAsB,IAAfA,EAAI5W,YACLgC,EACA4U,EAAI9Q,KAAK+Q,MAAM/Q,KAAKoE,SAAW0M,EAAI5W,SAM7C,SAAS4K,IACL,IAAIkM,EAAQhM,EAAY,EAAG,EAAIhF,KAAKiR,IAChC1Q,EAAIyE,GAAa,EAAG,GACxB,OAAO,IAAIpM,EAAaa,OAAOuG,KAAKgJ,KAAK,EAAIzI,EAAIA,GAAKP,KAAK0J,IAAIsH,GAAQhR,KAAKgJ,KAAK,EAAIzI,EAAIA,GAAKP,KAAK6J,IAAImH,GAAQzQ,GAMnH,SAASqQ,EAAiBM,GACtB,OAAO,IAAItY,EAAaa,OAAOyX,EAAK/Q,EAAI6E,EAAY,EAAGkM,EAAKvZ,OAAQuZ,EAAKtS,EAAIoG,EAAY,EAAGkM,EAAKxZ,SAGrG,SAASiZ,EAAmBQ,GACxB,IAAIH,EAAQhM,EAAY,EAAG,EAAIhF,KAAKiR,IAChCG,EAASpM,EAAY,EAAGmM,EAAOC,QACnC,OAAO,IAAIxY,EAAaa,OAAO0X,EAAOhR,EAAIH,KAAK0J,IAAIsH,GAASI,EAAQD,EAAOvS,EAAIoB,KAAK6J,IAAImH,GAASI,GA7BrGnb,EAAQ+O,YAAcA,EAStB/O,EAAQ8P,KAAOA,EASf9P,EAAQ6O,iBAAmBA,EAO3B7O,EAAQ2a,iBAAmBA,EAM3B3a,EAAQ0a,mBAAqBA,G,kCC3C7B5a,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ0D,WAAQ,EAChB,IAAIG,EAAS,EAAQ,QAYjBH,EAAuB,WAIvB,SAASA,EAAM6Q,EAAGxP,EAAGH,GACjBP,KAAKqO,OAAS,IAAIC,aAAa,GAC/BtO,KAAK+W,IAAM,CAAC7G,EAAGxP,EAAGH,GA8ItB,OA5IA9E,OAAOC,eAAe2D,EAAMY,UAAW,IAAK,CAIxC0G,IAAK,WACD,OAAO3G,KAAKqO,OAAO,IAMvBG,IAAK,SAAU5S,GACXoE,KAAKqO,OAAO,GAAK3I,KAAK+Q,MAAM7a,IAEhC8K,YAAY,EACZwB,cAAc,IAElBzM,OAAOC,eAAe2D,EAAMY,UAAW,IAAK,CAIxC0G,IAAK,WACD,OAAO3G,KAAKqO,OAAO,IAMvBG,IAAK,SAAU5S,GACXoE,KAAKqO,OAAO,GAAK3I,KAAK+Q,MAAM7a,IAEhC8K,YAAY,EACZwB,cAAc,IAElBzM,OAAOC,eAAe2D,EAAMY,UAAW,IAAK,CAKxC0G,IAAK,WACD,OAAO3G,KAAKqO,OAAO,IAKvBG,IAAK,SAAU5S,GACXoE,KAAKqO,OAAO,GAAK3I,KAAK+Q,MAAM7a,IAEhC8K,YAAY,EACZwB,cAAc,IAElBzM,OAAOC,eAAe2D,EAAMY,UAAW,MAAO,CAI1C0G,IAAK,WACD,MAAO,CAAC3G,KAAKkQ,EAAGlQ,KAAKU,EAAGV,KAAKO,IAKjCiO,IAAK,SAAUH,GACXrO,KAAKkQ,EAAI7B,EAAO,GAChBrO,KAAKU,EAAI2N,EAAO,GAChBrO,KAAKO,EAAI8N,EAAO,IAEpB3H,YAAY,EACZwB,cAAc,IAMlB7I,EAAMY,UAAU6V,IAAM,SAAU9X,EAAOgZ,GAEnC,YADe,IAAXA,IAAqBA,EAAS,IAC3B,IAAI3X,EAAMG,EAAO+W,KAAKvW,KAAKkQ,EAAGlS,EAAMkS,EAAG8G,GAASxX,EAAO+W,KAAKvW,KAAKU,EAAG1C,EAAM0C,EAAGsW,GAASxX,EAAO+W,KAAKvW,KAAKO,EAAGvC,EAAMuC,EAAGyW,KAK9H3X,EAAMY,UAAUkF,MAAQ,WACpB,IAAID,EAAM,SAAU+R,GAAK,OAAOA,EAAEvZ,SAAS,IAAIwZ,SAAS,EAAG,MAC3D,MAAO,IAAMhS,EAAIlF,KAAKkQ,GAAKhL,EAAIlF,KAAKU,GAAKwE,EAAIlF,KAAKO,IAKtDlB,EAAMY,UAAUvC,SAAW,WACvB,MAAO,OAASsC,KAAKqO,OAAOiB,KAAK,MAAQ,KAM7CjQ,EAAM8X,QAAU,SAAUjS,GAItB,OAHIA,EAAIkS,WAAW,OACflS,EAAMA,EAAI0H,OAAO,IAEd,IAAIvN,EAAMgY,SAASnS,EAAI0H,OAAO,EAAG,GAAI,IAAKyK,SAASnS,EAAI0H,OAAO,EAAG,GAAI,IAAKyK,SAASnS,EAAI0H,OAAO,EAAG,GAAI,MAOhHvN,EAAMoL,QAAU,SAAU6M,EAAGC,EAAGC,GAI5B,GAHAF,GAAK,IACLC,GAAK,IACLC,GAAK,IACK,IAAND,EACA,OAAO,IAAIlY,EAAMmY,EAAGA,EAAGA,GAGvB,IAAIC,EAAU,SAAU5Q,EAAG6Q,EAAG5M,GAK1B,OAJIA,EAAI,IACJA,GAAK,GACLA,EAAI,IACJA,GAAK,GACLA,EAAI,EAAI,EACDjE,EAAc,GAAT6Q,EAAI7Q,GAASiE,EACzBA,EAAI,GACG4M,EACP5M,EAAI,EAAI,EACDjE,GAAK6Q,EAAI7Q,IAAM,EAAI,EAAIiE,GAAK,EAChCjE,GAEP8Q,EAAQ,SAAUV,GAAK,OAAOvR,KAAKqF,IAAI,IAAK,IAAMkM,IAClDS,EAAIF,EAAI,GAAMA,GAAK,EAAID,GAAKC,EAAID,EAAIC,EAAID,EACxC1Q,EAAI,EAAI2Q,EAAIE,EAChB,OAAO,IAAIrY,EAAMsY,EAAMF,EAAQ5Q,EAAG6Q,EAAGJ,EAAI,EAAI,IAAKK,EAAMF,EAAQ5Q,EAAG6Q,EAAGJ,IAAKK,EAAMF,EAAQ5Q,EAAG6Q,EAAGJ,EAAI,EAAI,MAM/GjY,EAAMC,MAAQ,IAAID,EAAM,IAAK,IAAK,KAIlCA,EAAMuY,MAAQ,IAAIvY,EAAM,EAAG,EAAG,GACvBA,EApJe,GAsJ1B1D,EAAQ0D,MAAQA,G,kCCpKhB5D,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQkc,YAAS,EAIjB,IAAIA,EAAwB,WAIxB,SAASA,EAAOhS,EAAGvB,EAAGwS,QACH,IAAXA,IAAqBA,EAAS,GAClC9W,KAAK6F,EAAIA,EACT7F,KAAKsE,EAAIA,EACTtE,KAAK8W,OAASA,EAGlB,OADAe,EAAO/Y,KAAO,IAAI+Y,EAAO,EAAG,GACrBA,EAXgB,GAa3Blc,EAAQkc,OAASA,G,kCClBjB,IAAI7J,EAAiBhO,MAAQA,KAAKgO,eAAkB,SAAUC,EAAIC,GAC9D,IAAK,IAAI/K,EAAI,EAAGgL,EAAKD,EAAKtO,OAAQwO,EAAIH,EAAGrO,OAAQuD,EAAIgL,EAAIhL,IAAKiL,IAC1DH,EAAGG,GAAKF,EAAK/K,GACjB,OAAO8K,GAEXxS,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ6F,WAAQ,EAChB,IAAI4O,EAAe,EAAQ,QACvBpU,EAAa,EAAQ,QAQrBwF,EAAuB,WAMvB,SAASA,EAAM2J,GACXnL,KAAKmL,MAAQA,EAIbnL,KAAK8X,YAAc,EAInB9X,KAAK+X,aAAe,EAAI/X,KAAK8X,YA4DjC,OApDAtW,EAAMvB,UAAU+B,KAAO,SAAUkB,GAC7B,IAAI9G,EAAYgU,EAAatU,eAAeoC,QAGxC8Z,EAAehc,EAAWyB,SAASuD,MAAQ,QAAU,OACrD5E,EAAUU,MAAMmb,UAAYD,IAC5B5b,EAAUU,MAAMmb,QAAUD,GAEzBhc,EAAWyB,SAASuD,QAIzBhB,KAAK+X,cAAgB7U,EACjBlD,KAAK+X,aAAe,EAAI/X,KAAK8X,cAC7B9X,KAAK+X,aAAe,EAEpB3b,EAAU8b,UAAYlY,KAAKmY,oBAAoBjV,GAAOoM,KAAK,WAQnE9N,EAAMvB,UAAUkY,oBAAsB,SAAUjV,GAE5C,IAAI3B,EAAWvB,KAAKmL,MAAM5J,SAAS3B,OAC/BgE,EAAY5D,KAAKmL,MAAM5J,SAASoB,QAAO,SAAUyV,EAAKC,GAAO,OAAOD,EAAMC,EAAIzU,UAAUhE,SAAW,GACnG0Y,EAAQ,CACR,wBACA,iBACA,QAAU5S,KAAK6S,MAAM,EAAIrV,GACzB,aAAe3B,EACf,cAAgBqC,GAIhB4U,EAAexY,KAAKmL,MAAM5J,SAAS4U,KAAI,SAAU9T,GACjD,MAAO,CAEH,OAAcA,EAAQ,eAAiB,GAAK,KAAOA,EAAQD,QAAQ6F,OAAS,EAAI5F,EAAQD,QAAQ6F,MAAQ,KAExG,OAAc5F,EAAQuB,UAAUhE,OAE/ByC,EAAQe,UAEH,iBADA,OAAcf,EAAQ,iBAAiB0D,QAAQ,GAAK,KAE5DuJ,KAAK,SAGX,OADAgJ,EAAM/V,KAAKuL,MAAMwK,EAAOtK,EAAc,CAAC,kBAAmBwK,IACnDF,GAEJ9W,EA3Ee,GA6E1B7F,EAAQ6F,MAAQA,G,kCC7FhB/F,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ4N,cAAW,EACnB,IAAIjL,EAAe,EAAQ,QACvB+I,EAAW,EAAQ,QAInBkC,EAA0B,WAI1B,SAASA,EAASnH,GACd,IAAIqW,EAAmBpR,EAASL,iBAAiB,CAC7C/C,SAAU,EACVkC,KAAM,EACN9B,SAAU/F,EAAaa,OAAOL,KAC9BoH,SAAU5H,EAAaa,OAAOL,KAC9BmK,SAAU3K,EAAaa,OAAOL,KAC9Bd,MAAOM,EAAae,MAAMC,MAC1BiG,QAAS,GACVnD,GAEHpC,KAAKpD,GAAK8b,SAEV1Y,KAAKmG,KAAOnG,KAAKf,YAAcwZ,EAAiBtS,KAChDnG,KAAKiE,SAAWjE,KAAKjB,gBAAkB0Z,EAAiBxU,SACxDjE,KAAKkG,SAAWlG,KAAKd,gBAAkBuZ,EAAiBvS,SACxDlG,KAAKqE,SAAWoU,EAAiBpU,SACjCrE,KAAKiJ,SAAWwP,EAAiBxP,SACjCjJ,KAAKhC,MAAQya,EAAiBza,MAC9BgC,KAAKuF,QAAUkT,EAAiBlT,QAEpC,OAAOgE,EAzBkB,GA2B7B5N,EAAQ4N,SAAWA,G,kCCjBnB,SAASgN,EAAKjW,EAAGC,EAAGuK,GAChB,OAAQ,EAAIA,GAAKxK,EAAIwK,EAAIvK,EAM7B,SAASwN,EAAMzN,EAAGC,EAAGuK,GACjB,OAAOyL,EAAKjW,EAAGC,GAAI,EAAImF,KAAK0J,IAAItE,EAAIpF,KAAKiR,KAAO,GAMpD,SAAS7V,EAAQR,EAAGC,EAAG0W,GACnB,OAAQA,EAAI3W,IAAMC,EAAID,GAM1B,SAASqY,EAAM/c,EAAOmP,EAAKW,GACvB,OAAOhG,KAAKqF,IAAIW,EAAKhG,KAAKgG,IAAIX,EAAKnP,IAMvC,SAASgd,EAActY,EAAGC,GACtB,OAAOmF,KAAKC,IAAIrF,EAAIC,GAAK5E,EAAQkd,QA9CrCpd,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQid,cAAgBjd,EAAQgd,MAAQhd,EAAQmF,QAAUnF,EAAQoS,MAAQpS,EAAQ4a,KAAO5a,EAAQkd,QAAUld,EAAQqT,QAAUrT,EAAQ0T,aAAU,EAI/I1T,EAAQ0T,QAAU3J,KAAKiR,GAAK,IAI5Bhb,EAAQqT,QAAU,IAAMtJ,KAAKiR,GAI7Bhb,EAAQkd,QAAU,KAOlBld,EAAQ4a,KAAOA,EAOf5a,EAAQoS,MAAQA,EAOhBpS,EAAQmF,QAAUA,EAOlBnF,EAAQgd,MAAQA,EAOhBhd,EAAQid,cAAgBA,G,kCChDxBnd,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQiM,8BAA2B,EACnC,IAAIkR,EAAU,EAAQ,QAItB,SAASlR,IACL,MAAO,CACHO,SAAU,EACVF,MAAO,EACPe,YAAY,EACZS,aAAc,IACdzF,gBAAiB,CAAC8U,EAAQ9U,gBAAgBC,SAAU6U,EAAQ9U,gBAAgBE,QAC5EmF,QAAS,IAGjB1N,EAAQiM,yBAA2BA,G,kCChBnCnM,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ8V,oBAAsB9V,EAAQod,sBAAmB,EACzD,IAAI3R,EAAc,EAAQ,QAmB1B,SAASqK,EAAoB9B,GAEzB,IAAIqJ,EAAQ5R,EAAYoB,kBAAkBmH,GAI1C,GAAqB,kBAAVqJ,EAAoB,CAC3B,IAAIxH,EAAW7V,EAAQod,iBAAiBC,GACxC,IAAKxH,EACD,MAAM,IAAI3R,MAAM,gCAAkCmZ,EAAQ,iEAI9D,IAAIC,EAAQvc,SAASC,cAAc,OAEnC,OADAsc,EAAMf,UAAY1G,EACXyH,EAAMC,kBAEjB,OAAOF,EA5BXrd,EAAQod,iBAAmB,CACvBI,OAAQ,iDACRC,UAAW,gDACXvC,OAAQ,wGACRwC,cAAe,qEACfC,iBAAkB,oEAClBC,KAAM,qPAwBV5d,EAAQ8V,oBAAsBA,G,kCCxC9BhW,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ6d,aAAe7d,EAAQiD,WAAajD,EAAQ8d,YAAc9d,EAAQ+d,cAAgB/d,EAAQyP,mBAAgB,EAClH,IAAI9M,EAAe,EAAQ,QACvBkN,EAAW,EAAQ,QAIvB,SAASJ,EAAclB,GACnB,GAAIA,aAAkByP,YAClB,OAAOD,EAAcxP,GAEzB,GAAIA,aAAkB5L,EAAauZ,OAC/B,OAAO2B,EAAatP,GAExB,GAAIA,aAAkB5L,EAAaO,KAC/B,OAAOD,EAAWsL,GAEtB,GAAIA,aAAkB0P,WAClB,OAAOH,EAAYvP,GAEvB,MAAM,IAAIrK,MAAM,oCAAsCqK,EAAS,MAMnE,SAASwP,EAAcxP,GACnB,OAAO,WAAc,OAAOsB,EAAS8K,iBAAiBhY,EAAaO,KAAKoR,YAAY/F,KAMxF,SAASuP,EAAYvP,GACjB,OAAO,WACH,OAAO,IAAI5L,EAAaa,OAAO0D,OAAOiD,QAAUoE,EAAO2P,QAAShX,OAAOmD,QAAUkE,EAAO4P,UAOhG,SAASlb,EAAWsL,GAChB,OAAO,WAAc,OAAOsB,EAAS8K,iBAAiBpM,IAM1D,SAASsP,EAAatP,GAClB,OAAO,WAAc,OAAOsB,EAAS6K,mBAAmBnM,IA5B5DvO,EAAQyP,cAAgBA,EAOxBzP,EAAQ+d,cAAgBA,EASxB/d,EAAQ8d,YAAcA,EAOtB9d,EAAQiD,WAAaA,EAOrBjD,EAAQ6d,aAAeA,G,kCCpDvB/d,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQoe,cAAW,EACnB,IAAInQ,EAAM,EAAQ,QACdtL,EAAe,EAAQ,QACvBuL,EAAY,EAAQ,QACpBC,EAAS,EAAQ,QACjBC,EAAU,EAAQ,QAClBC,EAAY,EAAQ,QACpBC,EAAO,EAAQ,QAOnB,SAAS8P,EAAS7P,EAAQ9H,GACtB,IAAI+H,EAAYF,EAAKjD,iBAAiB,CAClC/C,SAAU+F,EAAUI,MAAM,EAAG,GAC7B7B,MAAOyB,EAAUI,MAAM,GAAI,IAC3BE,MAAON,EAAUI,MAAM,IAAK,KAC5BjE,KAAM6D,EAAUI,MAAM,GAAK,KAC3BlE,SAAU,WAAc,OAAO,IAAI5H,EAAaa,OAAO,EAAG,EAAG2K,EAAOY,YAAY,EAAG,OACnF1M,MAAO,WAAc,OAAOM,EAAae,MAAMoL,QAAQ,GAAI,IAAKX,EAAOY,YAAY,GAAI,MACvFrB,QAAS,EACL,IAAIQ,EAAUc,eACTC,MAAM,YACNC,IAAG,SAAUC,GAAK,OAAO,IAAIxM,EAAaa,OAAO,EAAG,EAAG,KAAKiK,MAAM0B,MAClEE,WACAC,SACL,IAAIpB,EAAUc,eACTC,MAAM,QACNC,GAAG,IAAIvM,EAAaqP,cAAc,CAAExN,KAAM,EAAGvE,MAAO,GAAK,CAAEuE,KAAM,GAAKvE,MAAO,GAAK,CAAEuE,KAAM,GAAKvE,MAAO,GAAK,CAAEuE,KAAM,EAAGvE,MAAO,KAC7HuQ,QAAQ,oBACRnB,WACAC,SACL,IAAIpB,EAAUc,eACTC,MAAM,WACNC,GAAG,IAAIvM,EAAaqP,cAAc,CAAExN,KAAM,EAAGvE,MAAO,GAAK,CAAEuE,KAAM,GAAKvE,MAAO,GAAK,CAAEuE,KAAM,EAAGvE,MAAO,KACpGuQ,QAAQ,oBACRlB,UAEV7I,GACCC,EAAUuH,EAAIuB,MAAMjN,QAAQiE,cAAc,CAC1C0F,eAAgB,CACZI,MAAO,EACPE,SAAU,EACVa,YAAY,EACZK,QAASc,EAAUd,SAEvBtB,gBAAiB,CACbvJ,KAAM,EACNE,OAAQ,CAAC,CAAEyB,KAAM,EAAGoI,MAAO4B,EAAU5B,QACrC5J,cAAeoL,EAAQqB,cAAclB,GACrCzL,MAAOuL,EAAUI,MAAM,EAAG,KAC1BrL,gBAAiBoL,EAAUlG,SAC3BjF,aAAcmL,EAAUG,MACxBrL,YAAakL,EAAUhE,KACvBjH,gBAAiBiL,EAAUjE,SAC3B9G,aAAc+K,EAAUnM,OAE5BgK,gBAAiB,CACbnD,mBAAejD,EACf4C,aAAc,UAGtB,OAAOnC,EAEX1G,EAAQoe,SAAWA","file":"js/chunk-f8a713ec.d196284e.js","sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.particleContainer = exports.debugContainer = exports.rootContainer = void 0;\r\nvar settings_1 = require(\"./settings\");\r\nvar util_1 = require(\"./util\");\r\n/**\r\n * The prefix to apply to the containers.\r\n */\r\nvar containerPrefix = \"party-js-\";\r\n/**\r\n * Checks if the specified container is 'active', meaning not undefined and attached to the DOM.\r\n */\r\nfunction isContainerActive(container) {\r\n    return container && container.isConnected;\r\n}\r\n/**\r\n * A generic factory method for creating a DOM container. Prefixes the specified name with the\r\n * container prefix, applies the styles and adds it under the parent.\r\n */\r\nfunction makeContainer(name, styles, parent) {\r\n    var container = document.createElement(\"div\");\r\n    container.id = containerPrefix + name;\r\n    Object.assign(container.style, styles);\r\n    return parent.appendChild(container);\r\n}\r\n/**\r\n * Represents the root container for DOM elements of the library.\r\n */\r\nexports.rootContainer = new util_1.Lazy(function () {\r\n    return makeContainer(\"container\", {\r\n        position: \"fixed\",\r\n        left: \"0\",\r\n        top: \"0\",\r\n        height: \"100vh\",\r\n        width: \"100vw\",\r\n        pointerEvents: \"none\",\r\n        userSelect: \"none\",\r\n        zIndex: settings_1.settings.zIndex.toString(),\r\n    }, document.body);\r\n}, isContainerActive);\r\n/**\r\n * Represents the debugging container of the library, only active if debugging is enabled.\r\n */\r\nexports.debugContainer = new util_1.Lazy(function () {\r\n    return makeContainer(\"debug\", {\r\n        position: \"absolute\",\r\n        top: \"0\",\r\n        left: \"0\",\r\n        margin: \"0.5em\",\r\n        padding: \"0.5em 1em\",\r\n        border: \"2px solid rgb(0, 0, 0, 0.2)\",\r\n        background: \"rgb(0, 0, 0, 0.1)\",\r\n        color: \"#555\",\r\n        fontFamily: \"monospace\",\r\n    }, exports.rootContainer.current);\r\n}, isContainerActive);\r\n/**\r\n * Represents the particle container of the library.\r\n * This is where the particle DOM elements get rendered into.\r\n */\r\nexports.particleContainer = new util_1.Lazy(function () {\r\n    return makeContainer(\"particles\", {\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        overflow: \"hidden\",\r\n        perspective: \"1200px\",\r\n    }, exports.rootContainer.current);\r\n}, isContainerActive);\r\n//# sourceMappingURL=containers.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.getDefaultEmissionOptions = void 0;\r\nvar components_1 = require(\"../../components\");\r\nvar sources_1 = require(\"../../systems/sources\");\r\n/**\r\n * Returns the default set of emission options.\r\n */\r\nfunction getDefaultEmissionOptions() {\r\n    return {\r\n        rate: 10,\r\n        angle: 0,\r\n        bursts: [],\r\n        sourceSampler: sources_1.rectSource(components_1.Rect.zero),\r\n        initialLifetime: 5,\r\n        initialSpeed: 5,\r\n        initialSize: 1,\r\n        initialRotation: components_1.Vector.zero,\r\n        initialColor: components_1.Color.white,\r\n    };\r\n}\r\nexports.getDefaultEmissionOptions = getDefaultEmissionOptions;\r\n//# sourceMappingURL=emissionOptions.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Spline = void 0;\r\nvar math_1 = require(\"../systems/math\");\r\n/**\r\n * Represents a spline that can be used to continueously evaluate a function\r\n * between keys. The base implementation is kept generic, so the functionality\r\n * can easily be implemented for similar constructs, such as gradients.\r\n */\r\nvar Spline = /** @class */ (function () {\r\n    /**\r\n     * Creates a new spline instance, using the specified keys.\r\n     * Note that you have to pass at least one key.\r\n     */\r\n    function Spline() {\r\n        var keys = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            keys[_i] = arguments[_i];\r\n        }\r\n        if (keys.length === 0) {\r\n            throw new Error(\"Splines require at least one key.\");\r\n        }\r\n        if (Array.isArray(keys[0])) {\r\n            throw new Error(\"You are trying to pass an array to the spline constructor, which is not supported. \" +\r\n                \"Try to spread the array into the constructor instead.\");\r\n        }\r\n        this.keys = keys;\r\n    }\r\n    /**\r\n     * Evaluates the spline at the given time.\r\n     */\r\n    Spline.prototype.evaluate = function (time) {\r\n        if (this.keys.length === 0) {\r\n            throw new Error(\"Attempt to evaluate a spline with no keys.\");\r\n        }\r\n        if (this.keys.length === 1) {\r\n            // The spline only contains one key, therefore is constant.\r\n            return this.keys[0].value;\r\n        }\r\n        // Sort the keys and figure out the first key above the passed time.\r\n        var ascendingKeys = this.keys.sort(function (a, b) { return a.time - b.time; });\r\n        var upperKeyIndex = ascendingKeys.findIndex(function (g) { return g.time > time; });\r\n        // If the found index is either 0 or -1, the specified time falls out\r\n        // of the range of the supplied keys. In that case, the value of the\r\n        // nearest applicant key is returned.\r\n        if (upperKeyIndex === 0) {\r\n            return ascendingKeys[0].value;\r\n        }\r\n        if (upperKeyIndex === -1) {\r\n            return ascendingKeys[ascendingKeys.length - 1].value;\r\n        }\r\n        // Otherwise, find the bounding keys, and extrapolate the time between\r\n        // the two. This is then used to interpolate between the two keys,\r\n        // using the provided implementation.\r\n        var lowerKey = ascendingKeys[upperKeyIndex - 1];\r\n        var upperKey = ascendingKeys[upperKeyIndex];\r\n        var containedTime = math_1.invlerp(lowerKey.time, upperKey.time, time);\r\n        return this.interpolate(lowerKey.value, upperKey.value, containedTime);\r\n    };\r\n    return Spline;\r\n}());\r\nexports.Spline = Spline;\r\n//# sourceMappingURL=spline.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.settings = void 0;\r\nexports.settings = {\r\n    debug: false,\r\n    gravity: 800,\r\n    zIndex: 99999,\r\n    respectReducedMotion: true,\r\n};\r\n//# sourceMappingURL=settings.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Scene = void 0;\r\nvar debug_1 = require(\"./debug\");\r\nvar emitter_1 = require(\"./particles/emitter\");\r\nvar renderer_1 = require(\"./particles/renderer\");\r\n/**\r\n * Represents a scene that contains emitters and their particles.\r\n *\r\n * Scenes are responsible for spawning and updating emitters, and\r\n * removing them once they are done.\r\n *\r\n * Scenes are not explicitely present in the DOM as an element, only\r\n * the contained particles are.\r\n */\r\nvar Scene = /** @class */ (function () {\r\n    /**\r\n     * Initializes a new scene and starts the ticking job.\r\n     */\r\n    function Scene() {\r\n        /**\r\n         * The emitters currently present in the scene.\r\n         */\r\n        this.emitters = [];\r\n        /**\r\n         * The debug instance associated with the scene.\r\n         */\r\n        this.debug = new debug_1.Debug(this);\r\n        /**\r\n         * The renderer associated with the scene.\r\n         */\r\n        this.renderer = new renderer_1.Renderer();\r\n        /**\r\n         * The ID of the currently scheduled tick.\r\n         */\r\n        this.scheduledTickId = undefined;\r\n        /**\r\n         * The timestamp of the last tick, used to calculate deltas.\r\n         *\r\n         * @initialValue `performance.now()` (time origin)\r\n         * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMHighResTimeStamp\r\n         */\r\n        this.lastTickTimestamp = performance.now();\r\n        // Ensure the scene context is preserved on the tick.\r\n        this.tick = this.tick.bind(this);\r\n        this.scheduleTick();\r\n    }\r\n    /**\r\n     * Creates and returns a new, default emitter object.\r\n     */\r\n    Scene.prototype.createEmitter = function (options) {\r\n        var emitter = new emitter_1.Emitter(options);\r\n        this.emitters.push(emitter);\r\n        return emitter;\r\n    };\r\n    /**\r\n     * Clears all emitters from the scene.\r\n     *\r\n     * @returns The number of cleared emitters.\r\n     */\r\n    Scene.prototype.clearEmitters = function () {\r\n        return this.emitters.splice(0).length;\r\n    };\r\n    /**\r\n     * Clears the particles from all emitters in the scene.\r\n     * Note that this does not remove the actual emitter objects though.\r\n     *\r\n     * @returns The number of cleared particles.\r\n     */\r\n    Scene.prototype.clearParticles = function () {\r\n        return this.emitters.reduce(function (sum, emitter) { return sum + emitter.clearParticles(); }, 0);\r\n    };\r\n    /**\r\n     * Schedules a tick in the scene.\r\n     */\r\n    Scene.prototype.scheduleTick = function () {\r\n        this.scheduledTickId = window.requestAnimationFrame(this.tick);\r\n    };\r\n    /**\r\n     * Cancels a pending tick operation.\r\n     */\r\n    Scene.prototype.cancelTick = function () {\r\n        window.cancelAnimationFrame(this.scheduledTickId);\r\n    };\r\n    /**\r\n     * Processes a tick cycle, updating all emitters contained in the scene.\r\n     * This is handled as a JS animation frame event, hence the passed timestamp.\r\n     *\r\n     * @remarks\r\n     * The emitter ticking and particle rendering is run using try-catch blocks,\r\n     * to ensure that we can recover from potential errors.\r\n     *\r\n     * @param timestamp The current timestamp of the animation frame.\r\n     */\r\n    Scene.prototype.tick = function (timestamp) {\r\n        // Calculate the elapsed delta and convert it to seconds.\r\n        var delta = (timestamp - this.lastTickTimestamp) / 1000;\r\n        try {\r\n            // Perform ticks for all the emitters in the scene.\r\n            for (var i = 0; i < this.emitters.length; i++) {\r\n                var emitter = this.emitters[i];\r\n                emitter.tick(delta);\r\n                if (emitter.isExpired && emitter.canRemove) {\r\n                    this.emitters.splice(i--, 1);\r\n                }\r\n            }\r\n        }\r\n        catch (error) {\r\n            console.error(\"An error occurred while updating the scene's emitters:\\n\\\"\" + error + \"\\\"\");\r\n        }\r\n        try {\r\n            // Instruct the renderer to draw the particles of all systems.\r\n            this.renderer.begin();\r\n            for (var _i = 0, _a = this.emitters; _i < _a.length; _i++) {\r\n                var emitter = _a[_i];\r\n                for (var _b = 0, _c = emitter.particles; _b < _c.length; _b++) {\r\n                    var particle = _c[_b];\r\n                    this.renderer.renderParticle(particle, emitter);\r\n                }\r\n            }\r\n            this.renderer.end();\r\n        }\r\n        catch (error) {\r\n            console.error(\"An error occurred while rendering the scene's particles:\\n\\\"\" + error + \"\\\"\");\r\n        }\r\n        // Perform a tick on the debug interface\r\n        this.debug.tick(delta);\r\n        // Save the timestamp as the last tick timestamp and schedule a new tick.\r\n        this.lastTickTimestamp = timestamp;\r\n        this.scheduleTick();\r\n    };\r\n    return Scene;\r\n}());\r\nexports.Scene = Scene;\r\n//# sourceMappingURL=scene.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.despawningRules = void 0;\r\n/**\r\n * Contains a set of pre-defined particle despawning rules.\r\n */\r\nexports.despawningRules = {\r\n    /**\r\n     * A rule that despawns a particle once its lifetime is over.\r\n     */\r\n    lifetime: function (particle) {\r\n        return particle.lifetime <= 0;\r\n    },\r\n    /**\r\n     * A rule that despawns a particle once its y-coordinate is outside of the document.\r\n     */\r\n    bounds: function (particle) {\r\n        // Get document height: https://stackoverflow.com/a/44077777/5507624\r\n        var height = document.documentElement.scrollHeight;\r\n        return particle.location.y > height;\r\n    },\r\n};\r\n//# sourceMappingURL=rules.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.getDefaultRendererOptions = void 0;\r\n/**\r\n * Returns the default set of renderer options.\r\n */\r\nfunction getDefaultRendererOptions() {\r\n    return {\r\n        shapeFactory: \"square\",\r\n        applyColor: defaultApplyColor,\r\n        applyOpacity: defaultApplyOpacity,\r\n        applyLighting: defaultApplyLighting,\r\n        applyTransform: defaultApplyTransform,\r\n    };\r\n}\r\nexports.getDefaultRendererOptions = getDefaultRendererOptions;\r\n/**\r\n * Applies the specified color to the element.\r\n *\r\n * @remarks\r\n * This function is aware of the element's node type:\r\n * - `div` elements have their `background` set.\r\n * - `svg` elements have their `fill` and `color` set.\r\n * - Other elements have their `color` set.\r\n */\r\nfunction defaultApplyColor(color, element) {\r\n    var hex = color.toHex();\r\n    // Note that by default, HTML node names are uppercase.\r\n    switch (element.nodeName.toLowerCase()) {\r\n        case \"div\":\r\n            element.style.background = hex;\r\n            break;\r\n        case \"svg\":\r\n            element.style.fill = element.style.color = hex;\r\n            break;\r\n        default:\r\n            element.style.color = hex;\r\n            break;\r\n    }\r\n}\r\n/**\r\n * Applies the specified opacity to the element.\r\n */\r\nfunction defaultApplyOpacity(opacity, element) {\r\n    element.style.opacity = opacity.toString();\r\n}\r\n/**\r\n * Applies the specified lighting to the element as a brightness filter.\r\n *\r\n * @remarks\r\n * This function assumes an ambient light with intensity 0.5, and that the\r\n * particle should be lit from both sides. The brightness filter can exceed 1,\r\n * to give the particles a \"glossy\" feel.\r\n */\r\nfunction defaultApplyLighting(lighting, element) {\r\n    element.style.filter = \"brightness(\" + (0.5 + Math.abs(lighting)) + \")\";\r\n}\r\n/**\r\n * Applies the specified transform to the element as a 3D CSS transform.\r\n * Also takes into account the current window scroll, to make sure that particles are\r\n * rendered inside of the fixed container.\r\n */\r\nfunction defaultApplyTransform(particle, element) {\r\n    element.style.transform =\r\n        // Make sure to take window scrolling into account.\r\n        \"translateX(\" + (particle.location.x - window.scrollX).toFixed(3) + \"px) \" +\r\n            (\"translateY(\" + (particle.location.y - window.scrollY).toFixed(3) + \"px) \") +\r\n            (\"translateZ(\" + particle.location.z.toFixed(3) + \"px) \") +\r\n            (\"rotateX(\" + particle.rotation.x.toFixed(3) + \"deg) \") +\r\n            (\"rotateY(\" + particle.rotation.y.toFixed(3) + \"deg) \") +\r\n            (\"rotateZ(\" + particle.rotation.z.toFixed(3) + \"deg) \") +\r\n            (\"scale(\" + particle.size.toFixed(3) + \")\");\r\n}\r\n//# sourceMappingURL=renderOptions.js.map","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__exportStar(require(\"./circle\"), exports);\r\n__exportStar(require(\"./color\"), exports);\r\n__exportStar(require(\"./gradient\"), exports);\r\n__exportStar(require(\"./numericSpline\"), exports);\r\n__exportStar(require(\"./rect\"), exports);\r\n__exportStar(require(\"./vector\"), exports);\r\n//# sourceMappingURL=index.js.map","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Join.vue?vue&type=style&index=0&id=a2709142&scoped=true&lang=css&\"","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.overrideDefaults = void 0;\r\n/**\r\n * Replaces the supplied defaults with the properties specified in the overrides.\r\n * This returns a new object.\r\n */\r\nfunction overrideDefaults(defaults, overrides) {\r\n    return Object.assign({}, defaults, overrides);\r\n}\r\nexports.overrideDefaults = overrideDefaults;\r\n//# sourceMappingURL=config.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Emitter = void 0;\r\nvar vector_1 = require(\"../components/vector\");\r\nvar settings_1 = require(\"../settings\");\r\nvar variation_1 = require(\"../systems/variation\");\r\nvar config_1 = require(\"../util/config\");\r\nvar options_1 = require(\"./options\");\r\nvar particle_1 = require(\"./particle\");\r\n/**\r\n * Represents an emitter that is responsible for spawning and updating particles.\r\n *\r\n * Particles themselves are just data-holders, with the system acting upon them and\r\n * modifying them. The modifications are done mainly via modules, that use the\r\n * particle's data together with some function to apply temporal transitions.\r\n *\r\n * @see Particle\r\n * @see ParticleModifierModule\r\n */\r\nvar Emitter = /** @class */ (function () {\r\n    /**\r\n     * Creates a new emitter, using default options.\r\n     */\r\n    function Emitter(options) {\r\n        /**\r\n         * The particles currently contained within the system.\r\n         */\r\n        this.particles = [];\r\n        this.currentLoop = 0; // The current loop index.\r\n        this.durationTimer = 0; // Measures the current runtime duration, to allow loops to reset.\r\n        this.emissionTimer = 0; // Measures the current emission timer, to allow spawning particles in intervals.\r\n        this.attemptedBurstIndices = []; // The indices of the particle bursts that were attempted this loop.\r\n        this.options = config_1.overrideDefaults(options_1.getDefaultEmitterOptions(), options === null || options === void 0 ? void 0 : options.emitterOptions);\r\n        this.emission = config_1.overrideDefaults(options_1.getDefaultEmissionOptions(), options === null || options === void 0 ? void 0 : options.emissionOptions);\r\n        this.renderer = config_1.overrideDefaults(options_1.getDefaultRendererOptions(), options === null || options === void 0 ? void 0 : options.rendererOptions);\r\n    }\r\n    Object.defineProperty(Emitter.prototype, \"isExpired\", {\r\n        /**\r\n         * Checks if the emitter is already expired and can be removed.\r\n         * Expired emitters do not emit new particles.\r\n         */\r\n        get: function () {\r\n            return (this.options.loops >= 0 && this.currentLoop >= this.options.loops);\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Emitter.prototype, \"canRemove\", {\r\n        /**\r\n         * Checks if the emitter can safely be removed.\r\n         * This is true if no more particles are active.\r\n         */\r\n        get: function () {\r\n            return this.particles.length === 0;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Clears all particles inside the emitter.\r\n     *\r\n     * @returns The number of cleared particles.\r\n     */\r\n    Emitter.prototype.clearParticles = function () {\r\n        return this.particles.splice(0).length;\r\n    };\r\n    /**\r\n     * Processes a tick of the emitter, using the elapsed time.\r\n     *\r\n     * @remarks\r\n     * This handles a few things, namely:\r\n     * - Incrementing the duration timer and potentially incrementing the loop.\r\n     * - Handling particle bursts & emissions.\r\n     * - Despawning particles conditionally.\r\n     *\r\n     * @param delta The time, in seconds, passed since the last tick.\r\n     */\r\n    Emitter.prototype.tick = function (delta) {\r\n        if (!this.isExpired) {\r\n            this.durationTimer += delta;\r\n            if (this.durationTimer >= this.options.duration) {\r\n                this.currentLoop++;\r\n                // To start a new loop, the duration timer and attempted bursts are reset.\r\n                this.durationTimer = 0;\r\n                this.attemptedBurstIndices = [];\r\n            }\r\n            // We need to check the expiry again, in case the added loop or duration changed something.\r\n            if (!this.isExpired) {\r\n                // Iterate over the bursts, attempting to execute them if the time is ready.\r\n                var burstIndex = 0;\r\n                for (var _i = 0, _a = this.emission.bursts; _i < _a.length; _i++) {\r\n                    var burst = _a[_i];\r\n                    if (burst.time <= this.durationTimer) {\r\n                        // Has the burst already been attempted? If not ...\r\n                        if (!this.attemptedBurstIndices.includes(burstIndex)) {\r\n                            // Perform the burst, emitting a variable amount of particles.\r\n                            var count = variation_1.evaluateVariation(burst.count);\r\n                            for (var i = 0; i < count; i++) {\r\n                                this.emitParticle();\r\n                            }\r\n                            // Mark the burst as attempted.\r\n                            this.attemptedBurstIndices.push(burstIndex);\r\n                        }\r\n                    }\r\n                    burstIndex++;\r\n                }\r\n                // Handle the 'emission over time'. By using a while-loop instead of a simple\r\n                // if-condition, we take high deltas into account, and ensure that the correct\r\n                // number of particles will consistently be emitted.\r\n                this.emissionTimer += delta;\r\n                var delay = 1 / this.emission.rate;\r\n                while (this.emissionTimer > delay) {\r\n                    this.emissionTimer -= delay;\r\n                    this.emitParticle();\r\n                }\r\n            }\r\n        }\r\n        var _loop_1 = function (i) {\r\n            var particle = this_1.particles[i];\r\n            this_1.tickParticle(particle, delta);\r\n            // Particles should be despawned (i.e. removed from the collection) if any of\r\n            // the despawning rules apply to them.\r\n            if (this_1.options.despawningRules.some(function (rule) { return rule(particle); })) {\r\n                this_1.particles.splice(i, 1);\r\n            }\r\n        };\r\n        var this_1 = this;\r\n        for (var i = this.particles.length - 1; i >= 0; i--) {\r\n            _loop_1(i);\r\n        }\r\n    };\r\n    /**\r\n     * Performs an internal tick for the particle.\r\n     *\r\n     * @remarks\r\n     * This method controls the particle's lifetime, location and velocity, according\r\n     * to the elapsed delta and the configuration. Additionally, each of the emitter's\r\n     * modules is applied to the particle.\r\n     *\r\n     * @param particle The particle to apply the tick for.\r\n     * @param delta The time, in seconds, passed since the last tick.\r\n     */\r\n    Emitter.prototype.tickParticle = function (particle, delta) {\r\n        particle.lifetime -= delta;\r\n        if (this.options.useGravity) {\r\n            // Apply gravitational acceleration to the particle.\r\n            particle.velocity = particle.velocity.add(vector_1.Vector.up.scale(settings_1.settings.gravity * delta));\r\n        }\r\n        // Apply the particle's velocity to its location.\r\n        particle.location = particle.location.add(particle.velocity.scale(delta));\r\n        // Apply the modules to the particle.\r\n        for (var _i = 0, _a = this.options.modules; _i < _a.length; _i++) {\r\n            var moduleFunction = _a[_i];\r\n            moduleFunction(particle);\r\n        }\r\n    };\r\n    /**\r\n     * Emits a particle using the registered settings.\r\n     * Also may despawn a particle if the maximum number of particles is exceeded.\r\n     */\r\n    Emitter.prototype.emitParticle = function () {\r\n        var particle = new particle_1.Particle({\r\n            location: this.emission.sourceSampler(),\r\n            lifetime: variation_1.evaluateVariation(this.emission.initialLifetime),\r\n            velocity: vector_1.Vector.from2dAngle(variation_1.evaluateVariation(this.emission.angle)).scale(variation_1.evaluateVariation(this.emission.initialSpeed)),\r\n            size: variation_1.evaluateVariation(this.emission.initialSize),\r\n            rotation: variation_1.evaluateVariation(this.emission.initialRotation),\r\n            color: variation_1.evaluateVariation(this.emission.initialColor),\r\n        });\r\n        this.particles.push(particle);\r\n        // Ensure that no more particles than 'maxParticles' can exist.\r\n        if (this.particles.length > this.options.maxParticles) {\r\n            this.particles.shift();\r\n        }\r\n        return particle;\r\n    };\r\n    return Emitter;\r\n}());\r\nexports.Emitter = Emitter;\r\n//# sourceMappingURL=emitter.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.confetti = void 0;\r\nvar __1 = require(\"../\");\r\nvar components_1 = require(\"../components\");\r\nvar modules_1 = require(\"../systems/modules\");\r\nvar random = require(\"../systems/random\");\r\nvar sources = require(\"../systems/sources\");\r\nvar variation = require(\"../systems/variation\");\r\nvar util = require(\"../util\");\r\n/**\r\n * The standard confetti template.\r\n *\r\n * @param source The source to emit the confetti from.\r\n * @param options The (optional) configuration overrides.\r\n */\r\nfunction confetti(source, options) {\r\n    var populated = util.overrideDefaults({\r\n        count: variation.range(20, 40),\r\n        spread: variation.range(35, 45),\r\n        speed: variation.range(300, 600),\r\n        size: variation.skew(1, 0.2),\r\n        rotation: function () { return random.randomUnitVector().scale(180); },\r\n        color: function () { return components_1.Color.fromHsl(random.randomRange(0, 360), 100, 70); },\r\n        modules: [\r\n            new modules_1.ModuleBuilder()\r\n                .drive(\"size\")\r\n                .by(function (t) { return Math.min(1, t * 3); })\r\n                .relative()\r\n                .build(),\r\n            new modules_1.ModuleBuilder()\r\n                .drive(\"rotation\")\r\n                .by(function (t) { return new components_1.Vector(140, 200, 260).scale(t); })\r\n                .relative()\r\n                .build(),\r\n        ],\r\n        shapes: [\"square\", \"circle\"],\r\n    }, options);\r\n    var emitter = __1.scene.current.createEmitter({\r\n        emitterOptions: {\r\n            loops: 1,\r\n            duration: 8,\r\n            modules: populated.modules,\r\n        },\r\n        emissionOptions: {\r\n            rate: 0,\r\n            bursts: [{ time: 0, count: populated.count }],\r\n            sourceSampler: sources.dynamicSource(source),\r\n            angle: variation.skew(-90, variation.evaluateVariation(populated.spread)),\r\n            initialLifetime: 8,\r\n            initialSpeed: populated.speed,\r\n            initialSize: populated.size,\r\n            initialRotation: populated.rotation,\r\n            initialColor: populated.color,\r\n        },\r\n        rendererOptions: {\r\n            shapeFactory: populated.shapes,\r\n        },\r\n    });\r\n    return emitter;\r\n}\r\nexports.confetti = confetti;\r\n//# sourceMappingURL=confetti.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.gradientSample = exports.splineSample = exports.skewRelative = exports.skew = exports.range = exports.evaluateVariation = void 0;\r\nvar random_1 = require(\"./random\");\r\n/**\r\n * Returns a value instance of a variation.\r\n */\r\nfunction evaluateVariation(variation) {\r\n    if (Array.isArray(variation))\r\n        return random_1.pick(variation);\r\n    if (typeof variation === \"function\")\r\n        return variation();\r\n    return variation;\r\n}\r\nexports.evaluateVariation = evaluateVariation;\r\n/**\r\n * Creates a variation function that returns a random number from min to max.\r\n */\r\nfunction range(min, max) {\r\n    return function () { return random_1.randomRange(min, max); };\r\n}\r\nexports.range = range;\r\n/**\r\n * Creates a variation function that skews the specified value by a specified, absolute\r\n * amount. This means that instead of the value itself, a random number that deviates\r\n * at most by the specified amount is returned.\r\n *\r\n * @remarks\r\n * If you want to skew by a percentage instead, use `skewRelative`.\r\n */\r\nfunction skew(value, amount) {\r\n    return function () { return value + random_1.randomRange(-amount, amount); };\r\n}\r\nexports.skew = skew;\r\n/**\r\n * Creates a variation function that skews the specified value by a specified percentage.\r\n * This means that instead of the value itself, a random number that deviates by a maximum\r\n * of the specified percentage is returned.\r\n */\r\nfunction skewRelative(value, percentage) {\r\n    return function () { return value * (1 + random_1.randomRange(-percentage, percentage)); };\r\n}\r\nexports.skewRelative = skewRelative;\r\n/**\r\n * Creates a variation function that returns a random sample from the given spline.\r\n *\r\n * @param spline The spline to sample from.\r\n */\r\nfunction splineSample(spline) {\r\n    return function () { return spline.evaluate(Math.random()); };\r\n}\r\nexports.splineSample = splineSample;\r\n/**\r\n * Creates a variation function that returns a random sample from the given gradient.\r\n *\r\n * @remarks\r\n * This function is an alias for the spline variation, since a gradient is just\r\n * a spline under the hood.\r\n *\r\n * @param gradient The gradient to sample from.\r\n */\r\nfunction gradientSample(gradient) {\r\n    return splineSample(gradient);\r\n}\r\nexports.gradientSample = gradientSample;\r\n//# sourceMappingURL=variation.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ModuleBuilder = void 0;\r\nvar components_1 = require(\"../components\");\r\n/**\r\n * Represents a builder for particle modules. Returns an evaluatable module\r\n * function, that can be consumed by emitters.\r\n *\r\n * @remarks\r\n * Not all properties can be driven. TypeScript will validate this at compile time,\r\n * but no internal validation is performed due to performance reasons. Also, note\r\n * that the driving factor is \"lifetime\" by default.\r\n *\r\n * @example\r\n * ```ts\r\n * new ModuleBuilder()\r\n *     .drive(\"size\")\r\n *     .by((t) => t * 2)\r\n *     .through(\"lifetime\")\r\n *     .build();\r\n * ```\r\n */\r\nvar ModuleBuilder = /** @class */ (function () {\r\n    function ModuleBuilder() {\r\n        /**\r\n         * The factor driving the built function.\r\n         *\r\n         * @defaultValue \"lifetime\"\r\n         */\r\n        this.factor = \"lifetime\";\r\n        this.isRelative = false;\r\n    }\r\n    /**\r\n     * Specifies the key in the particle that should be driven.\r\n     *\r\n     * @remarks\r\n     * Note that not all of a particle's properties are drivable through modules. If you\r\n     * need full control of a particle inside of a module, you can use a module function directly.\r\n     *\r\n     * @returns The chained builder instance.\r\n     */\r\n    ModuleBuilder.prototype.drive = function (key) {\r\n        this.driverKey = key;\r\n        return this;\r\n    };\r\n    /**\r\n     * Specifies the factor to drive the evaluated value by. Supports \"lifetime\" and \"size\".\r\n     *\r\n     * @returns The chained builder instance.\r\n     */\r\n    ModuleBuilder.prototype.through = function (factor) {\r\n        this.factor = factor;\r\n        return this;\r\n    };\r\n    /**\r\n     * Specifies the value to drive the module behaviour by. This can be a constant,\r\n     * a spline or an evaluable function. Note that in the last case, the driving\r\n     * factor is passed as a parameter.\r\n     *\r\n     * @returns The chained builder instance.\r\n     */\r\n    ModuleBuilder.prototype.by = function (driver) {\r\n        this.driverValue = driver;\r\n        return this;\r\n    };\r\n    /**\r\n     * Specifies that the module function is supposed to act relative to the\r\n     * properties initial value.\r\n     *\r\n     * @remarks\r\n     * Note that this is only possible if an \"initial*\" property exists on the\r\n     * particle object. The operation applied to the initial and new value\r\n     * is dependant on their type:\r\n     * - `Vector`: Both vectors are added.\r\n     * - `number`: Both numbers are multiplied.\r\n     *\r\n     * For more advanced relative customizations, consider using the particle\r\n     * object in the driver value function instead, like:\r\n     * ```ts\r\n     * .by((t, p) => p.initialSize + t * 2);\r\n     * ```\r\n     */\r\n    ModuleBuilder.prototype.relative = function (isRelative) {\r\n        if (isRelative === void 0) { isRelative = true; }\r\n        this.isRelative = isRelative;\r\n        return this;\r\n    };\r\n    /**\r\n     * Consumes the builder and returns an evaluatable module function.\r\n     *\r\n     * @remarks\r\n     * Note that you need to specify the driving key and value, otherwise an error\r\n     * will be thrown.\r\n     */\r\n    ModuleBuilder.prototype.build = function () {\r\n        var _this = this;\r\n        if (typeof this.driverKey === \"undefined\") {\r\n            throw new Error(\"No driving key was provided in the module builder. Did you forget a '.drive()' call?\");\r\n        }\r\n        if (typeof this.driverValue === \"undefined\") {\r\n            throw new Error(\"No driving value was provided in the module builder. Did you forget a '.through()' call?\");\r\n        }\r\n        return function (particle) {\r\n            updateDrivenProperty(particle, _this.driverKey, evaluateModuleDriver(_this.driverValue, calculateModuleFactor(_this.factor, particle), particle), _this.isRelative);\r\n        };\r\n    };\r\n    return ModuleBuilder;\r\n}());\r\nexports.ModuleBuilder = ModuleBuilder;\r\n/**\r\n * Evaluates the module driver using a specified factor.\r\n */\r\nfunction evaluateModuleDriver(driver, factor, particle) {\r\n    if (typeof driver === \"object\" && \"evaluate\" in driver) {\r\n        return driver.evaluate(factor);\r\n    }\r\n    if (typeof driver === \"function\") {\r\n        return driver(factor, particle);\r\n    }\r\n    return driver;\r\n}\r\n/**\r\n * Calculates a module factor using a specified particle as context.\r\n */\r\nfunction calculateModuleFactor(factor, particle) {\r\n    switch (factor) {\r\n        case \"lifetime\":\r\n            return particle.initialLifetime - particle.lifetime;\r\n        case \"relativeLifetime\":\r\n            return ((particle.initialLifetime - particle.lifetime) /\r\n                particle.initialLifetime);\r\n        case \"size\":\r\n            return particle.size;\r\n        default:\r\n            throw new Error(\"Invalid driving factor '\" + factor + \"'.\");\r\n    }\r\n}\r\n/**\r\n * Updates a driven property of a particle using the specified value.\r\n *\r\n * @remarks\r\n * If the operation is marked as relative, the function infers the new value\r\n * through the value's type. Note that relative properties must have a\r\n * corresponding \"initial*\" value in the particle's properties.\r\n */\r\nfunction updateDrivenProperty(particle, key, value, relative) {\r\n    if (relative === void 0) { relative = false; }\r\n    if (!relative) {\r\n        particle[key] = value;\r\n    }\r\n    else {\r\n        var initial = particle[\"initial\" + key[0].toUpperCase() + key.substr(1)];\r\n        if (typeof initial === \"undefined\") {\r\n            throw new Error(\"Unable to use relative chaining with key '\" + key + \"'; no initial value exists.\");\r\n        }\r\n        if (value instanceof components_1.Vector) {\r\n            updateDrivenProperty(particle, key, initial.add(value));\r\n        }\r\n        else if (typeof value === \"number\") {\r\n            updateDrivenProperty(particle, key, initial * value);\r\n        }\r\n        else {\r\n            throw new Error(\"Unable to use relative chaining with particle key '\" + key + \"'; no relative operation for '\" + value + \"' could be inferred.\");\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=modules.js.map","'use strict';\n\n// Email address matcher.\nvar matcher = /^[a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;\n\n/**\n * Loosely validate an email address.\n *\n * @param {string} string\n * @return {boolean}\n */\nfunction isEmail(string) {\n  if (string.length > 320) return false;\n  return matcher.test(string);\n}\n\n/*\n * Exports.\n */\n\nmodule.exports = isEmail;\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__exportStar(require(\"./config\"), exports);\r\n__exportStar(require(\"./rotation\"), exports);\r\n__exportStar(require(\"./rules\"), exports);\r\n__exportStar(require(\"./lazy\"), exports);\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.NumericSpline = void 0;\r\nvar math_1 = require(\"../systems/math\");\r\nvar spline_1 = require(\"./spline\");\r\n/**\r\n * Represents a spline that can take numeric values.\r\n */\r\nvar NumericSpline = /** @class */ (function (_super) {\r\n    __extends(NumericSpline, _super);\r\n    function NumericSpline() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * Smoothly interpolates between two keys on the spline.\r\n     */\r\n    NumericSpline.prototype.interpolate = function (a, b, t) {\r\n        return math_1.slerp(a, b, t);\r\n    };\r\n    return NumericSpline;\r\n}(spline_1.Spline));\r\nexports.NumericSpline = NumericSpline;\r\n//# sourceMappingURL=numericSpline.js.map","\"use strict\";\r\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\r\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\r\n        to[j] = from[i];\r\n    return to;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Vector = void 0;\r\nvar math_1 = require(\"../systems/math\");\r\n/**\r\n * Represents a structure used to process vectors.\r\n *\r\n * @remarks\r\n * Note that the operations in this class will **not** modify the original vector,\r\n * except for the property assignments. This is to ensure that vectors are not\r\n * unintentionally modified.\r\n *\r\n * @example\r\n * ```ts\r\n * const vectorA = new Vector(1, 3, 5);\r\n * const vectorB = new Vector(2, 3, 1);\r\n * const vectorC = vectorA.add(vectorB); // (3, 6, 6)\r\n * ```\r\n */\r\nvar Vector = /** @class */ (function () {\r\n    /**\r\n     * Creates a new vector with optional x-, y-, and z-components.\r\n     * Omitted components are defaulted to 0.\r\n     */\r\n    function Vector(x, y, z) {\r\n        if (x === void 0) { x = 0; }\r\n        if (y === void 0) { y = 0; }\r\n        if (z === void 0) { z = 0; }\r\n        this.values = new Float32Array(3);\r\n        this.xyz = [x, y, z];\r\n    }\r\n    Object.defineProperty(Vector.prototype, \"x\", {\r\n        /**\r\n         * Returns the x-component of the vector.\r\n         */\r\n        get: function () {\r\n            return this.values[0];\r\n        },\r\n        /**\r\n         * Modifies the x-component of the vector.\r\n         */\r\n        set: function (value) {\r\n            this.values[0] = value;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Vector.prototype, \"y\", {\r\n        /**\r\n         * Returns the y-component of the vector.\r\n         */\r\n        get: function () {\r\n            return this.values[1];\r\n        },\r\n        /**\r\n         * Modifies the y-component of the vector.\r\n         */\r\n        set: function (value) {\r\n            this.values[1] = value;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Vector.prototype, \"z\", {\r\n        /**\r\n         * Returns the z-component of the vector.\r\n         */\r\n        get: function () {\r\n            return this.values[2];\r\n        },\r\n        /**\r\n         * Modifies the z-component of the vector.\r\n         */\r\n        set: function (value) {\r\n            this.values[2] = value;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Vector.prototype, \"xyz\", {\r\n        /**\r\n         * Returns the xyz-components of the vector, bundled as a copied array.\r\n         */\r\n        get: function () {\r\n            return [this.x, this.y, this.z];\r\n        },\r\n        /**\r\n         * Simultaneously updates the xyz-components of the vector, by passing an array.\r\n         */\r\n        set: function (values) {\r\n            this.values[0] = values[0];\r\n            this.values[1] = values[1];\r\n            this.values[2] = values[2];\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Returns the length of the vector.\r\n     */\r\n    Vector.prototype.magnitude = function () {\r\n        return Math.sqrt(this.sqrMagnitude());\r\n    };\r\n    /**\r\n     * Returns the squared length of the vector.\r\n     */\r\n    Vector.prototype.sqrMagnitude = function () {\r\n        return this.x * this.x + this.y * this.y + this.z * this.z;\r\n    };\r\n    /**\r\n     * Adds the two vectors together, component-wise.\r\n     */\r\n    Vector.prototype.add = function (vector) {\r\n        return new Vector(this.x + vector.x, this.y + vector.y, this.z + vector.z);\r\n    };\r\n    /**\r\n     * Subtracts the right vector from the left one, component-wise.\r\n     */\r\n    Vector.prototype.subtract = function (vector) {\r\n        return new Vector(this.x - vector.x, this.y - vector.y, this.z - vector.z);\r\n    };\r\n    /**\r\n     * Scales the lefthand vector by another vector or by a number.\r\n     */\r\n    Vector.prototype.scale = function (scalar) {\r\n        if (typeof scalar === \"number\") {\r\n            return new Vector(this.x * scalar, this.y * scalar, this.z * scalar);\r\n        }\r\n        else {\r\n            return new Vector(this.x * scalar.x, this.y * scalar.y, this.z * scalar.z);\r\n        }\r\n    };\r\n    /**\r\n     * Normalizes the vector to a length of 1. If the length was previously zero,\r\n     * then a zero-length vector will be returned.\r\n     */\r\n    Vector.prototype.normalized = function () {\r\n        var magnitude = this.magnitude();\r\n        if (magnitude !== 0) {\r\n            return this.scale(1 / magnitude);\r\n        }\r\n        return new (Vector.bind.apply(Vector, __spreadArray([void 0], this.xyz)))();\r\n    };\r\n    /**\r\n     * Returns the angle between two vectors, in degrees.\r\n     */\r\n    Vector.prototype.angle = function (vector) {\r\n        return (math_1.rad2deg *\r\n            Math.acos((this.x * vector.x + this.y * vector.y + this.z * vector.z) /\r\n                (this.magnitude() * vector.magnitude())));\r\n    };\r\n    /**\r\n     * Returns the cross-product of two vectors.\r\n     */\r\n    Vector.prototype.cross = function (vector) {\r\n        return new Vector(this.y * vector.z - this.z * vector.y, this.z * vector.x - this.x * vector.z, this.x * vector.y - this.y * vector.x);\r\n    };\r\n    /**\r\n     * returns the dot-product of two vectors.\r\n     */\r\n    Vector.prototype.dot = function (vector) {\r\n        return (this.magnitude() *\r\n            vector.magnitude() *\r\n            Math.cos(math_1.deg2rad * this.angle(vector)));\r\n    };\r\n    /**\r\n     * Returns a formatted representation of the vector.\r\n     */\r\n    Vector.prototype.toString = function () {\r\n        return \"Vector(\" + this.values.join(\", \") + \")\";\r\n    };\r\n    /**\r\n     * Creates a new vector from an angle, in degrees. Note that the z-component will be zero.\r\n     */\r\n    Vector.from2dAngle = function (angle) {\r\n        return new Vector(Math.cos(angle * math_1.deg2rad), Math.sin(angle * math_1.deg2rad));\r\n    };\r\n    /**\r\n     * Returns (0, 0, 0).\r\n     */\r\n    Vector.zero = new Vector(0, 0, 0);\r\n    /**\r\n     * Returns (1, 1, 1).\r\n     */\r\n    Vector.one = new Vector(1, 1, 1);\r\n    /**\r\n     * Returns (1, 0, 0).\r\n     */\r\n    Vector.right = new Vector(1, 0, 0);\r\n    /**\r\n     * Returns (0, 1, 0).\r\n     */\r\n    Vector.up = new Vector(0, 1, 0);\r\n    /**\r\n     * Returns (0, 0, 1).\r\n     */\r\n    Vector.forward = new Vector(0, 0, 1);\r\n    return Vector;\r\n}());\r\nexports.Vector = Vector;\r\n//# sourceMappingURL=vector.js.map","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__exportStar(require(\"./confetti\"), exports);\r\n__exportStar(require(\"./sparkles\"), exports);\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Lazy = void 0;\r\n/**\r\n * A wrapper class to lazily initialize a value.\r\n * Supports custom factory and predicate methods.\r\n */\r\nvar Lazy = /** @class */ (function () {\r\n    function Lazy(factory, exists) {\r\n        if (exists === void 0) { exists = Lazy.defaultExists; }\r\n        this.factory = factory;\r\n        this.exists = exists;\r\n    }\r\n    Object.defineProperty(Lazy.prototype, \"current\", {\r\n        /**\r\n         * The current value of the lazy object. Will be initialized, if the 'exists'\r\n         * predicate doesn't match.\r\n         */\r\n        get: function () {\r\n            if (!this.exists(this.value)) {\r\n                this.value = this.factory();\r\n            }\r\n            return this.value;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Lazy.defaultExists = function (value) {\r\n        return typeof value !== \"undefined\";\r\n    };\r\n    return Lazy;\r\n}());\r\nexports.Lazy = Lazy;\r\n//# sourceMappingURL=lazy.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Rect = void 0;\r\n/**\r\n * Represents a rectangle with an origin and size.\r\n */\r\nvar Rect = /** @class */ (function () {\r\n    function Rect(x, y, width, height) {\r\n        if (width === void 0) { width = 0; }\r\n        if (height === void 0) { height = 0; }\r\n        this.x = x;\r\n        this.y = y;\r\n        this.width = width;\r\n        this.height = height;\r\n    }\r\n    /**\r\n     * Returns a new document-space rectangle from the viewport's bounds.\r\n     */\r\n    Rect.fromScreen = function () {\r\n        return new Rect(window.scrollX, window.scrollY, window.innerWidth, window.innerHeight);\r\n    };\r\n    /**\r\n     * Returns a new document-space rectangle from the specified element.\r\n     */\r\n    Rect.fromElement = function (element) {\r\n        var r = element.getBoundingClientRect();\r\n        return new Rect(window.scrollX + r.x, window.scrollY + r.y, r.width, r.height);\r\n    };\r\n    Rect.zero = new Rect(0, 0);\r\n    return Rect;\r\n}());\r\nexports.Rect = Rect;\r\n//# sourceMappingURL=rect.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Renderer = void 0;\r\nvar __1 = require(\"..\");\r\nvar vector_1 = require(\"../components/vector\");\r\nvar containers_1 = require(\"../containers\");\r\nvar shapes_1 = require(\"../systems/shapes\");\r\nvar util_1 = require(\"../util\");\r\n/**\r\n * Represents a renderer used to draw particles to the DOM via HTML\r\n * elements. Additionally, it is responsible for purging the elements\r\n * of destroyed particles from the DOM.\r\n */\r\nvar Renderer = /** @class */ (function () {\r\n    function Renderer() {\r\n        /**\r\n         * The lookup of elements currently handled by the renderer, with the\r\n         * particle ID as key and a HTMLElement as the value.\r\n         */\r\n        this.elements = new Map();\r\n        /**\r\n         * The normalized direction the light comes from.\r\n         */\r\n        this.light = new vector_1.Vector(0, 0, 1);\r\n        /**\r\n         * Whether or not the renderer should actually draw particles.\r\n         */\r\n        this.enabled = true;\r\n        // Respect that users might prefer reduced motion.\r\n        // See: https://developer.mozilla.org/en-US/docs/Web/CSS/@media/prefers-reduced-motion\r\n        this.enabled =\r\n            !__1.settings.respectReducedMotion ||\r\n                !window.matchMedia(\"(prefers-reduced-motion)\").matches;\r\n    }\r\n    /**\r\n     * Begins a new render block. During the rendering phase, a list of rendered particles\r\n     * is tracked, so that stale particles can be removed later.\r\n     */\r\n    Renderer.prototype.begin = function () {\r\n        this.renderedParticles = [];\r\n    };\r\n    /**\r\n     * Terminates an existing render block. This checks which particles were rendered\r\n     * during the block and purges all unused HTMLElements from the DOM.\r\n     *\r\n     * @returns The amount of particles that were rendered.\r\n     */\r\n    Renderer.prototype.end = function () {\r\n        var it = this.elements.keys();\r\n        var result = it.next();\r\n        while (!result.done) {\r\n            var id = result.value;\r\n            if (!this.renderedParticles.includes(id)) {\r\n                this.elements.get(id).remove();\r\n                this.elements.delete(id);\r\n            }\r\n            result = it.next();\r\n        }\r\n        return this.renderedParticles.length;\r\n    };\r\n    /**\r\n     * Renders an individual particle to the DOM. If the particle is rendered for the first\r\n     * time, a HTMLElement will be created using the emitter's render settings.\r\n     *\r\n     * @param particle The particle to be rendered.\r\n     * @param emitter The system containing the particle.\r\n     */\r\n    Renderer.prototype.renderParticle = function (particle, emitter) {\r\n        if (!this.enabled)\r\n            return;\r\n        var options = emitter.renderer;\r\n        // Ensure that an element for the particle exists.\r\n        var element = this.elements.has(particle.id)\r\n            ? this.elements.get(particle.id)\r\n            : this.createParticleElement(particle, options);\r\n        if (options.applyColor) {\r\n            // If the options offer a coloring method, apply it.\r\n            options.applyColor(particle.color, element);\r\n        }\r\n        if (options.applyOpacity) {\r\n            // If the options offer an opacity modifying method, apply it.\r\n            options.applyOpacity(particle.opacity, element);\r\n        }\r\n        if (options.applyLighting) {\r\n            // If the options offer a lighting method, apply it.\r\n            // Lighting is calculated as a combination of the particle's normal\r\n            // direction and the lighting direction.\r\n            var normal = util_1.rotationToNormal(particle.rotation);\r\n            var lightingCoefficient = normal.dot(this.light);\r\n            options.applyLighting(lightingCoefficient, element);\r\n        }\r\n        if (options.applyTransform) {\r\n            // If the options offer a transformation method, apply it.\r\n            // This ensures the particle is rendered at the correct position with the correct rotation.\r\n            options.applyTransform(particle, element);\r\n        }\r\n        // Mark the particle as rendered.\r\n        this.renderedParticles.push(particle.id);\r\n    };\r\n    /**\r\n     * Creates the HTMLElement for a particle that does not have one already.\r\n     */\r\n    Renderer.prototype.createParticleElement = function (particle, options) {\r\n        // Resolve the element returned from the factory.\r\n        var resolved = shapes_1.resolveShapeFactory(options.shapeFactory);\r\n        // Clone the node to ensure we do not break existing elements.\r\n        var element = resolved.cloneNode(true);\r\n        // Ensure that the elements can be \"stacked\" ontop of eachother.\r\n        element.style.position = \"absolute\";\r\n        // Register the new element in the map, while appending the new element to the DOM.\r\n        this.elements.set(particle.id, containers_1.particleContainer.current.appendChild(element));\r\n        return element;\r\n    };\r\n    return Renderer;\r\n}());\r\nexports.Renderer = Renderer;\r\n//# sourceMappingURL=renderer.js.map","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__exportStar(require(\"./emitterOptions\"), exports);\r\n__exportStar(require(\"./emissionOptions\"), exports);\r\n__exportStar(require(\"./renderOptions\"), exports);\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.default = exports.forceInit = exports.util = exports.math = exports.random = exports.sources = exports.variation = exports.Emitter = exports.Particle = exports.settings = exports.scene = void 0;\r\nvar scene_1 = require(\"./scene\");\r\nvar util_1 = require(\"./util\");\r\n__exportStar(require(\"./components\"), exports);\r\n__exportStar(require(\"./templates\"), exports);\r\n__exportStar(require(\"./systems/shapes\"), exports);\r\n__exportStar(require(\"./systems/modules\"), exports);\r\n// Create the lazy-initializing scene.\r\nexports.scene = new util_1.Lazy(function () {\r\n    // The library requires the use of the DOM, hence it cannot run in non-browser environments.\r\n    if (typeof document === \"undefined\" || typeof window === \"undefined\") {\r\n        throw new Error(\"It seems like you are trying to run party.js in a non-browser-like environment, which is not supported.\");\r\n    }\r\n    return new scene_1.Scene();\r\n});\r\nvar settings_1 = require(\"./settings\");\r\nObject.defineProperty(exports, \"settings\", { enumerable: true, get: function () { return settings_1.settings; } });\r\nvar particle_1 = require(\"./particles/particle\");\r\nObject.defineProperty(exports, \"Particle\", { enumerable: true, get: function () { return particle_1.Particle; } });\r\nvar emitter_1 = require(\"./particles/emitter\");\r\nObject.defineProperty(exports, \"Emitter\", { enumerable: true, get: function () { return emitter_1.Emitter; } });\r\nexports.variation = require(\"./systems/variation\");\r\nexports.sources = require(\"./systems/sources\");\r\nexports.random = require(\"./systems/random\");\r\nexports.math = require(\"./systems/math\");\r\nexports.util = require(\"./util\");\r\n/**\r\n * Forces the initialization of the otherwise lazy scene.\r\n */\r\nfunction forceInit() {\r\n    exports.scene.current;\r\n}\r\nexports.forceInit = forceInit;\r\nexports.default = require(\"./\");\r\n//# sourceMappingURL=index.js.map","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"pheadcontainer\"},[_c('span',{staticClass:\"phead\",staticStyle:{\"font-size\":\"30px\"}},[_vm._v(\"Join Us\")])]),_c('hr'),_c('br'),_c('p',[_vm._v(\"If you're interested in one of our \"),_c('a',{attrs:{\"href\":\"/#/clubs\"}},[_vm._v(\"Clubs\")]),_vm._v(\", fill this form and apply to join us:\")]),_c('div',{staticClass:\"join-form\"},[_c('input',{staticClass:\"form-field\",attrs:{\"type\":\"text\",\"name\":\"Name\",\"placeholder\":\"Name\",\"id\":\"name\"}}),_c('input',{staticClass:\"form-field\",attrs:{\"type\":\"text\",\"name\":\"Age\",\"placeholder\":\"Age\",\"id\":\"age\"}}),_c('input',{staticClass:\"form-field\",attrs:{\"type\":\"text\",\"name\":\"school\",\"placeholder\":\"School/Instituition\",\"id\":\"school\"}}),_c('input',{staticClass:\"form-field\",attrs:{\"type\":\"email\",\"name\":\"email\",\"placeholder\":\"Email\",\"id\":\"email\"}}),_c('input',{staticClass:\"form-field\",attrs:{\"type\":\"text\",\"name\":\"phone\",\"placeholder\":\"Phone\",\"id\":\"phone\"}}),_c('input',{staticClass:\"form-field\",attrs:{\"type\":\"text\",\"name\":\"club\",\"placeholder\":\"Club\",\"id\":\"club\"}}),_c('textarea',{staticClass:\"form-field large\",attrs:{\"name\":\"desc\",\"rows\":\"14\",\"cols\":\"10\",\"wrap\":\"soft\",\"placeholder\":\"Why do you wish to join us?\",\"id\":\"desc\"}}),_c('button',{staticClass:\"joinsubmitbtn\",attrs:{\"id\":\"submitbtn\"}},[_vm._v(\"Submit\")])])])}]\n\nexport { render, staticRenderFns }","export const store = {\n    _origin: 'https://api.emailjs.com',\n};\n","import { store } from '../../store/store';\n/**\n * Initiation\n * @param {string} userID - set the EmailJS user ID\n * @param {string} origin - set the EmailJS origin\n */\nexport const init = (userID, origin = 'https://api.emailjs.com') => {\n    store._userID = userID;\n    store._origin = origin;\n};\n","export const validateParams = (userID, serviceID, templateID) => {\n    if (!userID) {\n        throw 'The user ID is required. Visit https://dashboard.emailjs.com/admin/integration';\n    }\n    if (!serviceID) {\n        throw 'The service ID is required. Visit https://dashboard.emailjs.com/admin';\n    }\n    if (!templateID) {\n        throw 'The template ID is required. Visit https://dashboard.emailjs.com/admin/templates';\n    }\n    return true;\n};\n","export class EmailJSResponseStatus {\n    constructor(httpResponse) {\n        this.status = httpResponse.status;\n        this.text = httpResponse.responseText;\n    }\n}\n","import { EmailJSResponseStatus } from '../models/EmailJSResponseStatus';\nimport { store } from '../store/store';\nexport const sendPost = (url, data, headers = {}) => {\n    return new Promise((resolve, reject) => {\n        const xhr = new XMLHttpRequest();\n        xhr.addEventListener('load', ({ target }) => {\n            const responseStatus = new EmailJSResponseStatus(target);\n            if (responseStatus.status === 200 || responseStatus.text === 'OK') {\n                resolve(responseStatus);\n            }\n            else {\n                reject(responseStatus);\n            }\n        });\n        xhr.addEventListener('error', ({ target }) => {\n            reject(new EmailJSResponseStatus(target));\n        });\n        xhr.open('POST', store._origin + url, true);\n        Object.keys(headers).forEach((key) => {\n            xhr.setRequestHeader(key, headers[key]);\n        });\n        xhr.send(data);\n    });\n};\n","import { store } from '../../store/store';\nimport { validateParams } from '../../utils/validateParams';\nimport { sendPost } from '../../api/sendPost';\n/**\n * Send a template to the specific EmailJS service\n * @param {string} serviceID - the EmailJS service ID\n * @param {string} templateID - the EmailJS template ID\n * @param {object} templatePrams - the template params, what will be set to the EmailJS template\n * @param {string} userID - the EmailJS user ID\n * @returns {Promise<EmailJSResponseStatus>}\n */\nexport const send = (serviceID, templateID, templatePrams, userID) => {\n    const uID = userID || store._userID;\n    validateParams(uID, serviceID, templateID);\n    const params = {\n        lib_version: '3.2.0',\n        user_id: uID,\n        service_id: serviceID,\n        template_id: templateID,\n        template_params: templatePrams,\n    };\n    return sendPost('/api/v1.0/email/send', JSON.stringify(params), {\n        'Content-type': 'application/json',\n    });\n};\n","import { store } from '../../store/store';\nimport { validateParams } from '../../utils/validateParams';\nimport { sendPost } from '../../api/sendPost';\nconst findHTMLForm = (form) => {\n    let currentForm;\n    if (typeof form === 'string') {\n        currentForm = document.querySelector(form);\n    }\n    else {\n        currentForm = form;\n    }\n    if (!currentForm || currentForm.nodeName !== 'FORM') {\n        throw 'The 3rd parameter is expected to be the HTML form element or the style selector of form';\n    }\n    return currentForm;\n};\n/**\n * Send a form the specific EmailJS service\n * @param {string} serviceID - the EmailJS service ID\n * @param {string} templateID - the EmailJS template ID\n * @param {string | HTMLFormElement} form - the form element or selector\n * @param {string} userID - the EmailJS user ID\n * @returns {Promise<EmailJSResponseStatus>}\n */\nexport const sendForm = (serviceID, templateID, form, userID) => {\n    const uID = userID || store._userID;\n    const currentForm = findHTMLForm(form);\n    validateParams(uID, serviceID, templateID);\n    const formData = new FormData(currentForm);\n    formData.append('lib_version', '3.2.0');\n    formData.append('service_id', serviceID);\n    formData.append('template_id', templateID);\n    formData.append('user_id', uID);\n    return sendPost('/api/v1.0/email/send-form', formData);\n};\n","import { init } from './methods/init/init';\nimport { send } from './methods/send/send';\nimport { sendForm } from './methods/sendForm/sendForm';\nexport { init, send, sendForm };\nexport default {\n    init,\n    send,\n    sendForm,\n};\n","<template>\r\n    <div>\r\n        <div class=\"pheadcontainer\">\r\n            <span style=\"font-size: 30px\" class=\"phead\">Join Us</span>\r\n        </div>\r\n        <hr />\r\n        <br />\r\n        <p>If you're interested in one of our <a href=\"/#/clubs\">Clubs</a>, fill this form and apply to join us:</p>\r\n        <div class=\"join-form\">\r\n            <input class=\"form-field\" type=\"text\" name=\"Name\" placeholder=\"Name\" id=\"name\" />\r\n            <input class=\"form-field\" type=\"text\" name=\"Age\" placeholder=\"Age\" id=\"age\" />\r\n            <input class=\"form-field\" type=\"text\" name=\"school\" placeholder=\"School/Instituition\" id=\"school\" />\r\n            <input class=\"form-field\" type=\"email\" name=\"email\" placeholder=\"Email\" id=\"email\" />\r\n            <input class=\"form-field\" type=\"text\" name=\"phone\" placeholder=\"Phone\" id=\"phone\" />\r\n            <input class=\"form-field\" type=\"text\" name=\"club\" placeholder=\"Club\" id=\"club\" />\r\n            <textarea class=\"form-field large\" name=\"desc\" rows=\"14\" cols=\"10\" wrap=\"soft\" placeholder=\"Why do you wish to join us?\" id=\"desc\"> </textarea>\r\n            <button class=\"joinsubmitbtn\" id=\"submitbtn\">Submit</button>\r\n        </div>\r\n    </div>\r\n\r\n</template>\r\n<script>\r\nconst isEmail = require('is-email');\r\nimport { init } from 'emailjs-com';\r\nimport emailjs from 'emailjs-com';\r\nimport party from \"party-js\";\r\ninit(\"user_eBpcavRO1KbKvfzij8deJ\");\r\n\r\nexport default {\r\n    mounted() {\r\n        let name = document.getElementById(\"name\")\r\n        let age = document.getElementById(\"age\")\r\n        let school = document.getElementById(\"school\")\r\n        let email = document.getElementById(\"email\")\r\n        let phone = document.getElementById(\"phone\")\r\n        let club = document.getElementById(\"club\")\r\n        let desc = document.getElementById(\"desc\")\r\n\r\n        let btn = document.getElementById(\"submitbtn\")\r\n\r\n        btn.addEventListener(\"click\", function () {\r\n            party.confetti(this, {\r\n                count: party.variation.range(30, 60),\r\n            });\r\n        });\r\n        btn.addEventListener('click', ()=>{\r\n\r\n            // send email and stuff\r\n            let nameVal = name.value\r\n            let ageVal = age.value\r\n            let schoolVal = school.value\r\n            let emailVal = email.value\r\n            let phoneVal = phone.value\r\n            let clubVal = club.value\r\n            let descVal = desc.value\r\n\r\n            if(!nameVal) return fieldAlert()\r\n            if(!ageVal) return fieldAlert()\r\n            if(!schoolVal) return fieldAlert()\r\n            if(!emailVal) return fieldAlert()\r\n            if(!phoneVal) return fieldAlert()\r\n            if(!clubVal) return fieldAlert()\r\n            if(!descVal) return fieldAlert()\r\n\r\n            if(!isEmail(emailVal)) return alert(\"Please enter a valid email address.\")\r\n            \r\n            var templateParams = {\r\n                name: nameVal,\r\n                age: ageVal,\r\n                school: schoolVal,\r\n                email: emailVal,\r\n                mobile: phoneVal,\r\n                club: clubVal,\r\n                desc: descVal\r\n            };\r\n            emailjs.send('tacs-signup', 'tacsregister', templateParams)\r\n            .then(function(response) {\r\n                alert(\"You have sucessfully registered! We will get back to you on the specified email.\")\r\n                console.log(response)\r\n            }, function(error) {\r\n                alert(\"There was an error, please try again later.\")\r\n                console.log(error)\r\n            });       \r\n\r\n            \r\n        })\r\n\r\n        function fieldAlert() {\r\n            alert(\"Please fill all the fields!\")\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n\r\n<style scoped>\r\na {\r\n    cursor: pointer;\r\n}\r\n  @media screen and (max-width: 720px) {\r\n      .join-form {\r\n          width: 90%;\r\n      }\r\n\r\n      .joinsubmitbtn {\r\n          width: 100%;\r\n      }\r\n  }\r\n\r\n</style>\r\n\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Join.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Join.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Join.vue?vue&type=template&id=a2709142&scoped=true&\"\nimport script from \"./Join.vue?vue&type=script&lang=js&\"\nexport * from \"./Join.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Join.vue?vue&type=style&index=0&id=a2709142&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a2709142\",\n  null\n  \n)\n\nexport default component.exports","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.rotationToNormal = void 0;\r\nvar components_1 = require(\"../components\");\r\nvar math_1 = require(\"../systems/math\");\r\n/**\r\n * Converts the specified euler rotation (in degrees) into the corresponding normal vector.\r\n *\r\n * @remarks\r\n * The normal is calculated by placing a (figurative) plane in a coordinate-system's\r\n * origin, and rotating it by the specified angles. Note that the z-component of the\r\n * rotation is irrelevant for the normal and can be ignored. Then, two vectors\r\n * describing the orientation of the plane are calculated. Their cross product\r\n * denotes the normal vector.\r\n *\r\n * @param rotation The euler rotation angles (in degrees) to calculate the normal for.\r\n */\r\nfunction rotationToNormal(rotation) {\r\n    var alpha = rotation.x * math_1.deg2rad;\r\n    var beta = rotation.y * math_1.deg2rad;\r\n    var a = new components_1.Vector(Math.cos(beta), 0, Math.sin(beta));\r\n    var b = new components_1.Vector(0, Math.cos(alpha), Math.sin(alpha));\r\n    return a.cross(b);\r\n}\r\nexports.rotationToNormal = rotationToNormal;\r\n//# sourceMappingURL=rotation.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\r\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\r\n        to[j] = from[i];\r\n    return to;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Gradient = void 0;\r\nvar spline_1 = require(\"./spline\");\r\n/**\r\n * Represents a gradient that can be used to interpolate between multiple color.\r\n */\r\nvar Gradient = /** @class */ (function (_super) {\r\n    __extends(Gradient, _super);\r\n    function Gradient() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * Interpolates between two color on the gradient.\r\n     */\r\n    Gradient.prototype.interpolate = function (a, b, t) {\r\n        return a.mix(b, t);\r\n    };\r\n    /**\r\n     * Returns a solid gradient from the given color.\r\n     */\r\n    Gradient.solid = function (color) {\r\n        return new Gradient({ value: color, time: 0.5 });\r\n    };\r\n    /**\r\n     * Returns a gradient with evenly spaced keys from the given colors.\r\n     */\r\n    Gradient.simple = function () {\r\n        var colors = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            colors[_i] = arguments[_i];\r\n        }\r\n        var step = 1 / (colors.length - 1);\r\n        return new (Gradient.bind.apply(Gradient, __spreadArray([void 0], colors.map(function (color, index) { return ({\r\n            value: color,\r\n            time: index * step,\r\n        }); }))))();\r\n    };\r\n    return Gradient;\r\n}(spline_1.Spline));\r\nexports.Gradient = Gradient;\r\n//# sourceMappingURL=gradient.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.randomInsideCircle = exports.randomInsideRect = exports.randomUnitVector = exports.pick = exports.randomRange = void 0;\r\nvar components_1 = require(\"../components\");\r\nvar math_1 = require(\"./math\");\r\n/**\r\n * Returns a random value from min to max.\r\n */\r\nfunction randomRange(min, max) {\r\n    if (min === void 0) { min = 0; }\r\n    if (max === void 0) { max = 1; }\r\n    return math_1.lerp(min, max, Math.random());\r\n}\r\nexports.randomRange = randomRange;\r\n/**\r\n * Picks a random element from the specified array. Returns undefined if the array is empty.\r\n */\r\nfunction pick(arr) {\r\n    return arr.length === 0\r\n        ? undefined\r\n        : arr[Math.floor(Math.random() * arr.length)];\r\n}\r\nexports.pick = pick;\r\n/**\r\n * Returns a random unit vector.\r\n */\r\nfunction randomUnitVector() {\r\n    var theta = randomRange(0, 2 * Math.PI);\r\n    var z = randomRange(-1, 1);\r\n    return new components_1.Vector(Math.sqrt(1 - z * z) * Math.cos(theta), Math.sqrt(1 - z * z) * Math.sin(theta), z);\r\n}\r\nexports.randomUnitVector = randomUnitVector;\r\n/**\r\n * Returns a random point inside the given rect.\r\n */\r\nfunction randomInsideRect(rect) {\r\n    return new components_1.Vector(rect.x + randomRange(0, rect.width), rect.y + randomRange(0, rect.height));\r\n}\r\nexports.randomInsideRect = randomInsideRect;\r\nfunction randomInsideCircle(circle) {\r\n    var theta = randomRange(0, 2 * Math.PI);\r\n    var radius = randomRange(0, circle.radius);\r\n    return new components_1.Vector(circle.x + Math.cos(theta) * radius, circle.y + Math.sin(theta) * radius);\r\n}\r\nexports.randomInsideCircle = randomInsideCircle;\r\n//# sourceMappingURL=random.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Color = void 0;\r\nvar math_1 = require(\"../systems/math\");\r\n/**\r\n * Represents a color consisting of RGB values. The components of it are\r\n * represented as integers in the range 0 to 255.\r\n *\r\n * @example\r\n * ```ts\r\n * const a = new Color(12, 59, 219);\r\n * const b = Color.fromHex(\"#ffa68d\");\r\n * const result = a.mix(b);\r\n * ```\r\n */\r\nvar Color = /** @class */ (function () {\r\n    /**\r\n     * Creates a new color instance from the specified RGB components.\r\n     */\r\n    function Color(r, g, b) {\r\n        this.values = new Float32Array(3);\r\n        this.rgb = [r, g, b];\r\n    }\r\n    Object.defineProperty(Color.prototype, \"r\", {\r\n        /**\r\n         * Returns the r-component of the color.\r\n         */\r\n        get: function () {\r\n            return this.values[0];\r\n        },\r\n        /**\r\n         * Modifies the r-component of the color.\r\n         * Note that this also floors the value.\r\n         */\r\n        set: function (value) {\r\n            this.values[0] = Math.floor(value);\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Color.prototype, \"g\", {\r\n        /**\r\n         * Returns the g-component of the color.\r\n         */\r\n        get: function () {\r\n            return this.values[1];\r\n        },\r\n        /**\r\n         * Modifies the g-component of the color.\r\n         * Note that this also floors the value.\r\n         */\r\n        set: function (value) {\r\n            this.values[1] = Math.floor(value);\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Color.prototype, \"b\", {\r\n        /**\r\n         * Returns the b-component of the color.\r\n         * Note that this also floors the value.\r\n         */\r\n        get: function () {\r\n            return this.values[2];\r\n        },\r\n        /**\r\n         * Modifies the b-component of the color.\r\n         */\r\n        set: function (value) {\r\n            this.values[2] = Math.floor(value);\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Color.prototype, \"rgb\", {\r\n        /**\r\n         * Returns the rgb-components of the color, bundled as a copied array.\r\n         */\r\n        get: function () {\r\n            return [this.r, this.g, this.b];\r\n        },\r\n        /**\r\n         * Simultaneously updates the rgb-components of the color, by passing an array.\r\n         */\r\n        set: function (values) {\r\n            this.r = values[0];\r\n            this.g = values[1];\r\n            this.b = values[2];\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Mixes the two color together with an optional mixing weight.\r\n     * This weight is 0.5 by default, perfectly averaging the color.\r\n     */\r\n    Color.prototype.mix = function (color, weight) {\r\n        if (weight === void 0) { weight = 0.5; }\r\n        return new Color(math_1.lerp(this.r, color.r, weight), math_1.lerp(this.g, color.g, weight), math_1.lerp(this.b, color.b, weight));\r\n    };\r\n    /**\r\n     * Returns the hexadecimal representation of the color, prefixed by '#'.\r\n     */\r\n    Color.prototype.toHex = function () {\r\n        var hex = function (v) { return v.toString(16).padStart(2, \"0\"); };\r\n        return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\r\n    };\r\n    /**\r\n     * Returns a formatted representation of the color.\r\n     */\r\n    Color.prototype.toString = function () {\r\n        return \"rgb(\" + this.values.join(\", \") + \")\";\r\n    };\r\n    /**\r\n     * Creates a color from the specified hexadecimal string.\r\n     * This string can optionally be prefixed by '#'.\r\n     */\r\n    Color.fromHex = function (hex) {\r\n        if (hex.startsWith(\"#\")) {\r\n            hex = hex.substr(1);\r\n        }\r\n        return new Color(parseInt(hex.substr(0, 2), 16), parseInt(hex.substr(2, 2), 16), parseInt(hex.substr(4, 2), 16));\r\n    };\r\n    /**\r\n     * Creates a color from the specified HSL components.\r\n     *\r\n     * @see https://stackoverflow.com/a/9493060/5507624\r\n     */\r\n    Color.fromHsl = function (h, s, l) {\r\n        h /= 360;\r\n        s /= 100;\r\n        l /= 100;\r\n        if (s === 0) {\r\n            return new Color(l, l, l);\r\n        }\r\n        else {\r\n            var hue2rgb = function (p, q, t) {\r\n                if (t < 0)\r\n                    t += 1;\r\n                if (t > 1)\r\n                    t -= 1;\r\n                if (t < 1 / 6)\r\n                    return p + (q - p) * 6 * t;\r\n                if (t < 1 / 2)\r\n                    return q;\r\n                if (t < 2 / 3)\r\n                    return p + (q - p) * (2 / 3 - t) * 6;\r\n                return p;\r\n            };\r\n            var to255 = function (v) { return Math.min(255, 256 * v); };\r\n            var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\r\n            var p = 2 * l - q;\r\n            return new Color(to255(hue2rgb(p, q, h + 1 / 3)), to255(hue2rgb(p, q, h)), to255(hue2rgb(p, q, h - 1 / 3)));\r\n        }\r\n    };\r\n    /**\r\n     * Returns (1, 1, 1).\r\n     */\r\n    Color.white = new Color(255, 255, 255);\r\n    /**\r\n     * Returns (0, 0, 0).\r\n     */\r\n    Color.black = new Color(0, 0, 0);\r\n    return Color;\r\n}());\r\nexports.Color = Color;\r\n//# sourceMappingURL=color.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Circle = void 0;\r\n/**\r\n * Represents a circle.\r\n */\r\nvar Circle = /** @class */ (function () {\r\n    /**\r\n     * Creates a new circle at the specified coordinates, with a default radius of 0.\r\n     */\r\n    function Circle(x, y, radius) {\r\n        if (radius === void 0) { radius = 0; }\r\n        this.x = x;\r\n        this.y = y;\r\n        this.radius = radius;\r\n    }\r\n    Circle.zero = new Circle(0, 0);\r\n    return Circle;\r\n}());\r\nexports.Circle = Circle;\r\n//# sourceMappingURL=circle.js.map","\"use strict\";\r\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\r\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\r\n        to[j] = from[i];\r\n    return to;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Debug = void 0;\r\nvar containers_1 = require(\"./containers\");\r\nvar settings_1 = require(\"./settings\");\r\n/**\r\n * Represents a utility module to view debug information inside the DOM.\r\n * This is disabled by default and needs to manually be enabled by setting\r\n * the '.enabled' field to true.\r\n *\r\n * While disabled, the utility will not fetch stats and update itself.\r\n */\r\nvar Debug = /** @class */ (function () {\r\n    /**\r\n     * Registers a new debug utility that is attached to the given scene.\r\n     *\r\n     * @param scene The scene to attach to.\r\n     */\r\n    function Debug(scene) {\r\n        this.scene = scene;\r\n        /**\r\n         * The rate at which the debug interface should refresh itself (per second).\r\n         */\r\n        this.refreshRate = 8;\r\n        /**\r\n         * The timer counting down to refreshes.\r\n         */\r\n        this.refreshTimer = 1 / this.refreshRate;\r\n    }\r\n    /**\r\n     * Processes a tick event in the interface. This checks if enough has passed to\r\n     * trigger a refresh, and if so, fetches the debug information and updates the DOM.\r\n     *\r\n     * @param delta The time that has elapsed since the last tick.\r\n     */\r\n    Debug.prototype.tick = function (delta) {\r\n        var container = containers_1.debugContainer.current;\r\n        // If the current display style does not match the style inferred from the\r\n        // enabled-state, update it.\r\n        var displayStyle = settings_1.settings.debug ? \"block\" : \"none\";\r\n        if (container.style.display !== displayStyle) {\r\n            container.style.display = displayStyle;\r\n        }\r\n        if (!settings_1.settings.debug) {\r\n            // If the interface is not enabled, don't fetch or update any infos.\r\n            return;\r\n        }\r\n        this.refreshTimer += delta;\r\n        if (this.refreshTimer > 1 / this.refreshRate) {\r\n            this.refreshTimer = 0;\r\n            // Update the container with the fetched information joined on line breaks.\r\n            container.innerHTML = this.getDebugInformation(delta).join(\"<br>\");\r\n        }\r\n    };\r\n    /**\r\n     * Fetches the debug information from the specified delta and the linked scene.\r\n     *\r\n     * @returns An array of debugging information, formatted as HTML.\r\n     */\r\n    Debug.prototype.getDebugInformation = function (delta) {\r\n        // Count emitters and particles.\r\n        var emitters = this.scene.emitters.length;\r\n        var particles = this.scene.emitters.reduce(function (acc, cur) { return acc + cur.particles.length; }, 0);\r\n        var infos = [\r\n            \"<b>party.js Debug</b>\",\r\n            \"--------------\",\r\n            \"FPS: \" + Math.round(1 / delta),\r\n            \"Emitters: \" + emitters,\r\n            \"Particles: \" + particles,\r\n        ];\r\n        // Emitter informations are formatted using their index, internal timer\r\n        // and total particle count.\r\n        var emitterInfos = this.scene.emitters.map(function (emitter) {\r\n            return [\r\n                // Show the current loop and the total loops.\r\n                \"\\u2B6F: \" + (emitter[\"currentLoop\"] + 1) + \"/\" + (emitter.options.loops >= 0 ? emitter.options.loops : \"\"),\r\n                // Show the amount of particle contained.\r\n                \"\\u03A3p: \" + emitter.particles.length,\r\n                // Show the internal timer.\r\n                !emitter.isExpired\r\n                    ? \"\\u03A3t: \" + emitter[\"durationTimer\"].toFixed(3) + \"s\"\r\n                    : \"<i>expired</i>\",\r\n            ].join(\", \");\r\n        });\r\n        infos.push.apply(infos, __spreadArray([\"--------------\"], emitterInfos));\r\n        return infos;\r\n    };\r\n    return Debug;\r\n}());\r\nexports.Debug = Debug;\r\n//# sourceMappingURL=debug.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Particle = void 0;\r\nvar components_1 = require(\"../components\");\r\nvar config_1 = require(\"../util/config\");\r\n/**\r\n * Represents an emitted particle.\r\n */\r\nvar Particle = /** @class */ (function () {\r\n    /**\r\n     * Creates a new particle instance through the specified options.\r\n     */\r\n    function Particle(options) {\r\n        var populatedOptions = config_1.overrideDefaults({\r\n            lifetime: 0,\r\n            size: 1,\r\n            location: components_1.Vector.zero,\r\n            rotation: components_1.Vector.zero,\r\n            velocity: components_1.Vector.zero,\r\n            color: components_1.Color.white,\r\n            opacity: 1,\r\n        }, options);\r\n        // Generate a symbolic ID.\r\n        this.id = Symbol();\r\n        // Assign various properties, together with some initials for later reference.\r\n        this.size = this.initialSize = populatedOptions.size;\r\n        this.lifetime = this.initialLifetime = populatedOptions.lifetime;\r\n        this.rotation = this.initialRotation = populatedOptions.rotation;\r\n        this.location = populatedOptions.location;\r\n        this.velocity = populatedOptions.velocity;\r\n        this.color = populatedOptions.color;\r\n        this.opacity = populatedOptions.opacity;\r\n    }\r\n    return Particle;\r\n}());\r\nexports.Particle = Particle;\r\n//# sourceMappingURL=particle.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.approximately = exports.clamp = exports.invlerp = exports.slerp = exports.lerp = exports.epsilon = exports.rad2deg = exports.deg2rad = void 0;\r\n/**\r\n * Constant coefficient to convert degrees to radians.\r\n */\r\nexports.deg2rad = Math.PI / 180;\r\n/**\r\n * Constant coefficient to convert radians to degrees.\r\n */\r\nexports.rad2deg = 180 / Math.PI;\r\n/**\r\n * A small value to approximately compare values.\r\n */\r\nexports.epsilon = 0.000001;\r\n/**\r\n * Linearly interpolates between a and b by t.\r\n */\r\nfunction lerp(a, b, t) {\r\n    return (1 - t) * a + t * b;\r\n}\r\nexports.lerp = lerp;\r\n/**\r\n * Smoothly interpolates between a and b by t (using cosine interpolation).\r\n */\r\nfunction slerp(a, b, t) {\r\n    return lerp(a, b, (1 - Math.cos(t * Math.PI)) / 2);\r\n}\r\nexports.slerp = slerp;\r\n/**\r\n * Inversely lerps v between a and b to find t.\r\n */\r\nfunction invlerp(a, b, v) {\r\n    return (v - a) / (b - a);\r\n}\r\nexports.invlerp = invlerp;\r\n/**\r\n * Clamps the specified value between a minimum and a maximum.\r\n */\r\nfunction clamp(value, min, max) {\r\n    return Math.min(max, Math.max(min, value));\r\n}\r\nexports.clamp = clamp;\r\n/**\r\n * Checks if a is approximately equal to b.\r\n */\r\nfunction approximately(a, b) {\r\n    return Math.abs(a - b) < exports.epsilon;\r\n}\r\nexports.approximately = approximately;\r\n//# sourceMappingURL=math.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.getDefaultEmitterOptions = void 0;\r\nvar rules_1 = require(\"../../util/rules\");\r\n/**\r\n * Returns the default set of emitter options.\r\n */\r\nfunction getDefaultEmitterOptions() {\r\n    return {\r\n        duration: 5,\r\n        loops: 1,\r\n        useGravity: true,\r\n        maxParticles: 300,\r\n        despawningRules: [rules_1.despawningRules.lifetime, rules_1.despawningRules.bounds],\r\n        modules: [],\r\n    };\r\n}\r\nexports.getDefaultEmitterOptions = getDefaultEmitterOptions;\r\n//# sourceMappingURL=emitterOptions.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.resolveShapeFactory = exports.resolvableShapes = void 0;\r\nvar variation_1 = require(\"./variation\");\r\n/**\r\n * Represents the lookup that maps resolveable element keys to their HTML strings.\r\n *\r\n * @remarks\r\n * The default shapes are made to fit inside a dimension of 10x10 pixels, except\r\n * the 'star' shape, which exceeds it slightly.\r\n */\r\nexports.resolvableShapes = {\r\n    square: \"<div style=\\\"height: 10px; width: 10px;\\\"></div>\",\r\n    rectangle: \"<div style=\\\"height: 6px; width: 10px;\\\"></div>\",\r\n    circle: \"<svg viewBox=\\\"0 0 2 2\\\" width=\\\"10\\\" height=\\\"10\\\"><circle cx=\\\"1\\\" cy=\\\"1\\\" r=\\\"1\\\" fill=\\\"currentColor\\\"/></svg>\",\r\n    roundedSquare: \"<div style=\\\"height: 10px; width: 10px; border-radius: 3px;\\\"></div>\",\r\n    roundedRectangle: \"<div style=\\\"height: 6px; width: 10px; border-radius: 3px;\\\"></div>\",\r\n    star: \"<svg viewBox=\\\"0 0 512 512\\\" width=\\\"15\\\" height=\\\"15\\\"><polygon fill=\\\"currentColor\\\" points=\\\"512,197.816 325.961,185.585 255.898,9.569 185.835,185.585 0,197.816 142.534,318.842 95.762,502.431 255.898,401.21 416.035,502.431 369.263,318.842\\\"/></svg>\",\r\n};\r\n/**\r\n * Resolves the specified element factory using the resolvable elements, if needed.\r\n */\r\nfunction resolveShapeFactory(factory) {\r\n    // Retrieve the unresolved element from the factory.\r\n    var shape = variation_1.evaluateVariation(factory);\r\n    // If a string is returned, we need to resolve the element. This means\r\n    // looking up the string in the resolver lookup. If the key was not\r\n    // resolvable, we throw an error.\r\n    if (typeof shape === \"string\") {\r\n        var resolved = exports.resolvableShapes[shape];\r\n        if (!resolved) {\r\n            throw new Error(\"Failed to resolve shape key '\" + shape + \"'. Did you forget to add it to the 'resolvableShapes' lookup?\");\r\n        }\r\n        // We're in luck, we can resolve the element! We create a dummy <div> element\r\n        // to set the innerHTML of, and return the first element child.\r\n        var dummy = document.createElement(\"div\");\r\n        dummy.innerHTML = resolved;\r\n        return dummy.firstElementChild;\r\n    }\r\n    return shape;\r\n}\r\nexports.resolveShapeFactory = resolveShapeFactory;\r\n//# sourceMappingURL=shapes.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.circleSource = exports.rectSource = exports.mouseSource = exports.elementSource = exports.dynamicSource = void 0;\r\nvar components_1 = require(\"../components\");\r\nvar random_1 = require(\"./random\");\r\n/**\r\n * Dynamically infers a source sampler for the specified source type.\r\n */\r\nfunction dynamicSource(source) {\r\n    if (source instanceof HTMLElement) {\r\n        return elementSource(source);\r\n    }\r\n    if (source instanceof components_1.Circle) {\r\n        return circleSource(source);\r\n    }\r\n    if (source instanceof components_1.Rect) {\r\n        return rectSource(source);\r\n    }\r\n    if (source instanceof MouseEvent) {\r\n        return mouseSource(source);\r\n    }\r\n    throw new Error(\"Cannot infer the source type of '\" + source + \"'.\");\r\n}\r\nexports.dynamicSource = dynamicSource;\r\n/**\r\n * Creates a sampler to retrieve random points inside a specified HTMLElement.\r\n */\r\nfunction elementSource(source) {\r\n    return function () { return random_1.randomInsideRect(components_1.Rect.fromElement(source)); };\r\n}\r\nexports.elementSource = elementSource;\r\n/**\r\n * Creates a sampler to retrieve the position of a mouse event.\r\n */\r\nfunction mouseSource(source) {\r\n    return function () {\r\n        return new components_1.Vector(window.scrollX + source.clientX, window.scrollY + source.clientY);\r\n    };\r\n}\r\nexports.mouseSource = mouseSource;\r\n/**\r\n * Creates a sampler to retrieve random points inside a specified rectangle.\r\n */\r\nfunction rectSource(source) {\r\n    return function () { return random_1.randomInsideRect(source); };\r\n}\r\nexports.rectSource = rectSource;\r\n/**\r\n * Creates a sampler to retrieve random points inside a specified circle.\r\n */\r\nfunction circleSource(source) {\r\n    return function () { return random_1.randomInsideCircle(source); };\r\n}\r\nexports.circleSource = circleSource;\r\n//# sourceMappingURL=sources.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.sparkles = void 0;\r\nvar __1 = require(\"..\");\r\nvar components_1 = require(\"../components\");\r\nvar modules_1 = require(\"../systems/modules\");\r\nvar random = require(\"../systems/random\");\r\nvar sources = require(\"../systems/sources\");\r\nvar variation = require(\"../systems/variation\");\r\nvar util = require(\"../util\");\r\n/**\r\n * The standard sparkles template.\r\n *\r\n * @param source The source to emit the sparkles from.\r\n * @param options The (optional) configuration overrides.\r\n */\r\nfunction sparkles(source, options) {\r\n    var populated = util.overrideDefaults({\r\n        lifetime: variation.range(1, 2),\r\n        count: variation.range(10, 20),\r\n        speed: variation.range(100, 200),\r\n        size: variation.range(0.8, 1.8),\r\n        rotation: function () { return new components_1.Vector(0, 0, random.randomRange(0, 360)); },\r\n        color: function () { return components_1.Color.fromHsl(50, 100, random.randomRange(55, 85)); },\r\n        modules: [\r\n            new modules_1.ModuleBuilder()\r\n                .drive(\"rotation\")\r\n                .by(function (t) { return new components_1.Vector(0, 0, 200).scale(t); })\r\n                .relative()\r\n                .build(),\r\n            new modules_1.ModuleBuilder()\r\n                .drive(\"size\")\r\n                .by(new components_1.NumericSpline({ time: 0, value: 0 }, { time: 0.3, value: 1 }, { time: 0.7, value: 1 }, { time: 1, value: 0 }))\r\n                .through(\"relativeLifetime\")\r\n                .relative()\r\n                .build(),\r\n            new modules_1.ModuleBuilder()\r\n                .drive(\"opacity\")\r\n                .by(new components_1.NumericSpline({ time: 0, value: 1 }, { time: 0.5, value: 1 }, { time: 1, value: 0 }))\r\n                .through(\"relativeLifetime\")\r\n                .build(),\r\n        ],\r\n    }, options);\r\n    var emitter = __1.scene.current.createEmitter({\r\n        emitterOptions: {\r\n            loops: 1,\r\n            duration: 3,\r\n            useGravity: false,\r\n            modules: populated.modules,\r\n        },\r\n        emissionOptions: {\r\n            rate: 0,\r\n            bursts: [{ time: 0, count: populated.count }],\r\n            sourceSampler: sources.dynamicSource(source),\r\n            angle: variation.range(0, 360),\r\n            initialLifetime: populated.lifetime,\r\n            initialSpeed: populated.speed,\r\n            initialSize: populated.size,\r\n            initialRotation: populated.rotation,\r\n            initialColor: populated.color,\r\n        },\r\n        rendererOptions: {\r\n            applyLighting: undefined,\r\n            shapeFactory: \"star\",\r\n        },\r\n    });\r\n    return emitter;\r\n}\r\nexports.sparkles = sparkles;\r\n//# sourceMappingURL=sparkles.js.map"],"sourceRoot":""}